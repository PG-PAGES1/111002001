window.__require=function e(t,n,o){function i(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var p=n[r]={exports:{}};t[r][0].call(p.exports,function(e){return i(t[r][1][e]||e)},p,p.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({Adaptive111002001:[function(e,t,n){"use strict";cc._RF.push(t,"6290bzMDGBJ9Y5twKF04vq7","Adaptive111002001");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111002001"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sc1=null,t.cs2=null,t.cz=null,t.logo=null,t.bg_di=null,t}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().raiseEvent(core.GameCoreConst.mess_openBanner,{parent:this.node.getChildByName("banner")}),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_WIN_GAME,this.showChuanzhangAni,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_WIN_MORE_THAN_BET,this.playAni,this),e.prototype.resize.call(this)},t.prototype.layoutLandscape=function(){this.sc1.active=!1,this.cs2.active=!1,this.cz.active=!1,this.bg_di.active=!1,this.logo.scale=1,this.logo.setPosition(0,445,0)},t.prototype.layoutPortrait=function(){this.sc1.active=!0,this.cs2.active=!0,this.cz.active=!0,this.bg_di.active=!0,this.cz.scale=2.2,this.logo.scale=1.2,this.logo.setPosition(0,460,0)},t.prototype.showChuanzhangAni=function(e,t){var n=this;t==r.WinType.fiveEven&&(this.playAni(),this.playSound());var o="idle01";switch(t){case r.WinType.SuperWin:case r.WinType.MargeWin:case r.WinType.BigWin:case r.WinType.win:o="idle02"}"idle01"!=o&&(this.cz.getComponent(sp.Skeleton).setAnimation(0,o,!1),this.cz.getComponent(sp.Skeleton).setCompleteListener(function(){n.cz.getComponent(sp.Skeleton).setAnimation(0,"idle01",!0)}))},t.prototype.playAni=function(){slot.SoundMger.instance.playEffect("winPrize")},t.prototype.playSound=function(){slot.SoundMger.instance.playEffect("Five_Prize"),console.log("\u64ad\u653e\u4e86\u4e94\u8fde\u97f3\u6548")},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_WIN_GAME,this.showChuanzhangAni,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_WIN_MORE_THAN_BET,this.playAni,this)},a([l(cc.Node)],t.prototype,"sc1",void 0),a([l(cc.Node)],t.prototype,"cs2",void 0),a([l(cc.Node)],t.prototype,"cz",void 0),a([l(cc.Node)],t.prototype,"logo",void 0),a([l(cc.Node)],t.prototype,"bg_di",void 0),a([c],t)}(slot.BaseView);n.default=p,cc._RF.pop()},{"../GameEventName111002001":"GameEventName111002001"}],Banner111002001:[function(e,t,n){"use strict";cc._RF.push(t,"1a837zDyN9NBqgDZ5NzIzU9","Banner111002001");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./GameEventName111002001"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeBanner=null,t.m_isfreeGame=!1,t}return i(t,e),t.prototype.setNodeBanner=function(){},t.prototype.onLoad=function(){var t=this;e.prototype.onLoad.call(this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_STOP_WIN_NUM,function(){t.setNodeBanner(!0)},this),this.startPos=50},t.prototype._freeGameStart=function(){},t.prototype._freeGameOver=function(){},t.prototype.onDestroy=function(){var t=this;e.prototype.onDestroy.call(this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_STOP_WIN_NUM,function(){t.setNodeBanner(!0)},this)},a([l(cc.Node)],t.prototype,"p_nodeBanner",void 0),a([c],t)}(slot.SlotBanner);n.default=p,cc._RF.pop()},{"./GameEventName111002001":"GameEventName111002001"}],BonusGame111002001:[function(e,t,n){"use strict";cc._RF.push(t,"b43dfAaZ+dLpaKBQ+Afd607","BonusGame111002001");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111002001"),s=e("../tool/Tool"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeTime=null,t.callBack=null,t.m_time=0,t.m_isPlay=!0,t.m_isClose=!1,t.cb=null,t.time=0,t.nodeid=0,t.numTime=0,t}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(slot.NetSlotConst.LGACTIONRESP,this.LGACTIONRESP,this)},t.prototype.start=function(){},t.prototype.LGACTIONRESP=function(){var e=this;cc.tween(this).delay(.5).call(function(){e.next()}).start()},t.prototype.init=function(){this.m_time=7,this.node.opacity=255,this.p_nodeTime.opacity=255,this._updateTime(this.m_time),this.m_isPlay=!0,this._playLoopLight(),this._playBonusSelection(),this.m_isClose=!1,s.default.serverSpinResult.nextState||console.error("ywb",s.default.serverSpinResult)},t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.callBack=t[0][0],this.cb=t[0][1],this.init()},t.prototype._playLoopLight=function(){this.playLight(0)},t.prototype.playLight=function(){},t.prototype._playBonusSelection=function(){},t.prototype.onClickBrideNode=function(){slot.SoundMger.instance.playEffect(r.SOUND_NAME.Fs_Start,!1),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Fs_Prepare,!1),this.cb.run(),this.node.destroy()},t.prototype.onActionResult=function(){console.log("\u8fd4\u56de ------------------- ")},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.LGACTIONRESP,this.LGACTIONRESP,this)},t.prototype.getLastActionResult=function(){return this.onActionResult(),null},t.prototype.onClose=function(){},t.prototype.update=function(e){0==this.m_isClose&&(this.numTime<=1&&(this.numTime+=e),this.numTime>=1&&this.m_time>=0&&(this.numTime=0,this.m_time>=0&&(this._updateTime(this.m_time),0==this.m_time&&this.randSetGame()),this.m_time-=1))},t.prototype.randSetGame=function(){this.onClickBrideNode()},t.prototype._updateTime=function(){},a([p(cc.Node)],t.prototype,"p_nodeTime",void 0),a([l],t)}(slot.AbstractBonusGameView);n.default=u,cc._RF.pop()},{"../GameEventName111002001":"GameEventName111002001","../tool/Tool":"Tool"}],BonusGameTest:[function(e,t,n){"use strict";cc._RF.push(t,"b3b3d3q4FlOEpZydK7YD3db","BonusGameTest");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../item/TrainAniCtrl"),s=e("../tool/Tool"),c=cc._decorator,l=c.ccclass,p=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(slot.NetSlotConst.LGACTIONRESP,this.LGACTIONRESP,this)},t.prototype.start=function(){this.onInit(),this.operate([])},t.prototype.onActionResult=function(){this.next()},t.prototype.LGACTIONRESP=function(e,t){for(var n=this,o=[],i=0;i<s.default.resultNode.length;i++){var a=s.default.resultNode[i].getComponent(r.default);0==a.type&&o.push(a)}console.log("\u5c0f\u6e38\u620f\u6570\u636e\u56de\u9001",e,t,o);for(var c=Number(t.lgId),l=0;l<o.length;l++)if(o[l].lgId==c){var p=s.default.trainData.indexOf(c);p>-1&&s.default.trainData.splice(p,1),this.scheduleOnce(function(){s.default.marsk.active=!1},.02),o[l].playGoldAni();break}cc.tween(this).delay(.5).call(function(){n.next()}).start()},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.LGACTIONRESP,this.LGACTIONRESP,this)},a([l],t)}(slot.AbstractBonusGameView));n.default=p,cc._RF.pop()},{"../item/TrainAniCtrl":"TrainAniCtrl","../tool/Tool":"Tool"}],Cannon:[function(e,t,n){"use strict";cc._RF.push(t,"b8e22cy9mZJGLnGTzwLNW/t","Cannon");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeNumAn=null,t.p_nodeNumLiang=null,t.p_nodeLiang=null,t.p_nodeSprShanGuang=null,t.p_nodeFxAni=null,t.p_nodeUpShow=[],t.p_strFxAniName="",t.m_anCommonNumAtlas=null,t.m_liangCommonNumAtlas=null,t.m_isLiang=!1,t}return i(t,e),t.prototype.onLoad=function(){this.m_anCommonNumAtlas=this.p_nodeNumAn.getComponent("CommonNumAtlas111002001"),this.m_liangCommonNumAtlas=this.p_nodeNumLiang.getComponent("CommonNumAtlas111002001")},t.prototype.init=function(){this.p_nodeNumAn.active=!0,this.p_nodeNumLiang.active=!1,this.p_nodeSprShanGuang.active=!1,this.m_anCommonNumAtlas.string="",this.m_liangCommonNumAtlas.string="",this.node.scale=1},t.prototype.setOnline=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),t?(this.p_nodeLiang.active=e,this.node.scale=e?1.1:1):this.playAction(e,n)},t.prototype.setArrCannonUp=function(e){for(var t=function(t){var o=n.p_nodeUpShow[t];o.active=e,e?(o.active=!0,o.opacity=0,cc.tween(o).to(.3,{opacity:255}).start()):(o.opacity=255,cc.tween(o).to(.3,{opacity:0}).call(function(){o.opacity=255,o.active=!1}).start())},n=this,o=0;o<this.p_nodeUpShow.length;o++)t(o)},t.prototype.playCannonUp=function(e){var t=this;this.setCommonNum(e),1==this.p_nodeLiang.active?cc.tween(this.node).to(.2,{scale:1.2}).call(function(){cc.tween(t.node).to(.2,{scale:1.1}).call(function(){t.setArrCannonUp(!1)}).start()}).start():(this.p_nodeLiang.active=!0,cc.tween(this.node).to(.3,{scale:1.2}).call(function(){cc.tween(t.node).to(.3,{scale:1}).call(function(){t.setArrCannonUp(!1)}).start()}).start(),cc.tween(this.p_nodeLiang).delay(.3).to(1,{opacity:0}).call(function(){t.p_nodeLiang.opacity=255,t.p_nodeLiang.active=!1}).start())},t.prototype.playAction=function(e,t){var n=this;void 0===t&&(t=!1),1==e?(1==this.m_isLiang&&1==t?this._playUpAni():0==this.m_isLiang&&1==t?cc.tween(this).delay(.5).call(function(){n.p_nodeLiang.active=!0,n.playLight()}).start():(this.p_nodeLiang.active=!0,this.playLight()),this.m_isLiang=!0):this.playDark(t)},t.prototype.playLight=function(){var e=this;this.p_nodeSprShanGuang.active=!0,this.p_nodeSprShanGuang.scale=.5,cc.tween(this.p_nodeSprShanGuang).to(.3,{scale:.8}).call(function(){e.p_nodeSprShanGuang.active=!1}).start();var t=cc.sequence(cc.scaleTo(.5,1.2,1.2),cc.callFunc(function(){e.p_nodeNumAn.active=!1,e.p_nodeLiang.active=!0}),cc.scaleTo(.1,1.1,1.1));this.node.runAction(t)},t.prototype._playUpAni=function(e){var t=this;this.p_nodeFxAni.active=!0,this.p_nodeFxAni.getComponent(sp.Skeleton).setAnimation(0,this.p_strFxAniName,!1),this.p_nodeFxAni.getComponent(sp.Skeleton).setCompleteListener(function(){t.p_nodeFxAni.active=!1,e&&e(),cc.tween(t.node).to(.2,{scale:1}).start()})},t.prototype.playDark=function(e){var t=this;e&&this.p_strFxAniName.length>0&&1==this.m_isLiang?this._playUpAni(function(){t.p_nodeNumAn.active=!0,t.p_nodeLiang.active=!1}):(this.p_nodeNumAn.active=!0,this.p_nodeLiang.active=!1,cc.tween(this.node).to(.2,{scale:1}).start()),this.m_isLiang=!1},t.prototype.setCommonNum=function(){},t.prototype.start=function(){},a([c(cc.Node)],t.prototype,"p_nodeNumAn",void 0),a([c(cc.Node)],t.prototype,"p_nodeNumLiang",void 0),a([c(cc.Node)],t.prototype,"p_nodeLiang",void 0),a([c(cc.Node)],t.prototype,"p_nodeSprShanGuang",void 0),a([c(cc.Node)],t.prototype,"p_nodeFxAni",void 0),a([c({type:[cc.Node]})],t.prototype,"p_nodeUpShow",void 0),a([c(cc.String)],t.prototype,"p_strFxAniName",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],CircleAni:[function(e,t,n){"use strict";cc._RF.push(t,"86db6E4JNBEnpRinETXDC7l","CircleAni");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rate=2,t.radius=15,t.sonNode=null,t}return i(t,e),t.prototype.onLoad=function(){var e=new cc.Node;this.sonNode=new cc.Node,this.sonNode.parent=e,this.sonNode.setPosition(cc.v2(this.radius,this.radius)),e.parent=this.node.parent,e.setPosition(cc.v2(this.node.x,this.node.y));var t=cc.rotateBy(this.rate,360);e.runAction(cc.repeatForever(t))},t.prototype.getPosByOtherNode=function(e,t){if(e){var n=e.parent.convertToWorldSpaceAR(e.position);return t.convertToNodeSpaceAR(n)}return cc.v2(0,0)},t.prototype.update=function(){var e=this.getPosByOtherNode(this.sonNode,this.node.parent);this.node.setPosition(e)},a([c({type:cc.Integer,tooltip:"\u901f\u7387:\u51e0\u79d2\u5185\u8f6c\u5b8c360\u5ea6\u521d\u59cb\u503c\u662f\u4e24\u79d2"})],t.prototype,"rate",void 0),a([c({type:cc.Integer,tooltip:"\u534a\u5f84"})],t.prototype,"radius",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],CommonNumAtlas111002001:[function(e,t,n){"use strict";cc._RF.push(t,"4b4eeau0QVJ0qVL2hHp+KpY","CommonNumAtlas111002001");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},a([s],t)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],ElephantNodeCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"4b30f21H2BPv61uYyR68GaQ","ElephantNodeCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../tool/Tool"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spine1=null,t.spine2=null,t.elephant1=["idle2","idle3","idle4","win","win2","freespin_start","freespin_idle","freespin_exit","bonus_idle2","bonus_win","bonus_win2","jindutiao-man"],t.elephant2=["win-huishou","jindutiao-max","win-niutou","jindutiao-again","jindutiao-man"],t}return i(t,e),t.prototype.start=function(){},t.prototype.onDestroy=function(){},t.prototype.elephantAniCtrl=function(e,t){for(var n=this,o=!0,i=null,a=0;a<this.elephant2.length;a++){var s=this.elephant2[a];t==s&&(o=!1)}this.spine1.node.active=!1,this.spine2.node.active=!1,o?(this.spine1.node.active=!0,i=this.spine1):(this.spine2.node.active=!0,i=this.spine2),i.setAnimation(0,t,!1),i.setCompleteListener(function(){var e="";"fastspin_start"==t?e="fastspin_idle":(e="idle2",r.default.gameState&&(e="bonus_idle"),n.spine1.node.active=!0,n.spine2.node.active=!1),i.setAnimation(0,e,!0)})},a([l(sp.Skeleton)],t.prototype,"spine1",void 0),a([l(sp.Skeleton)],t.prototype,"spine2",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../tool/Tool":"Tool"}],FreeGameResult:[function(e,t,n){"use strict";cc._RF.push(t,"d6e6cadh2pDRrrh49UHplWd","FreeGameResult");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111002001"),s=e("../main/CommonNumAtlas111002001"),c=e("../main/Main111002001"),l=e("../roller/GameLayer111002001"),p=cc._decorator,u=p.ccclass,d=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeSecond=null,t.p_nodeMoney=null,t.p_btnDraw=null,t.p_nodeNum=null,t.spr_bg=null,t.ball=null,t.jiesuan=null,t.callBack=null,t.m_sumSpinCoin=0,t.m_sumTimes=0,t.m_time=0,t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.sprBgAnimation=function(){this.spr_bg.opacity=0;var e=cc.fadeIn(.5),t=cc.callFunc(function(){this.otherAni()}.bind(this));this.spr_bg.runAction(cc.sequence(e,t))},t.prototype.otherAni=function(){var e=cc.moveTo(.2,cc.v2(0,-100)),t=cc.fadeIn(.2),n=cc.callFunc(function(){this.jiesuan.node.opacity=255,this.jiesuan.setAnimation(0,"jiesuan_fadein",!1)}.bind(this)),o=cc.delayTime(.5),i=cc.callFunc(function(){this.openLableAni()}.bind(this));this.ball.runAction(cc.sequence(cc.spawn(e,t),n,o,i))},t.prototype.openLableAni=function(){for(var e=0;e<this.ball.children.length;e++)this.ball.children[e].opacity=255;this.p_nodeNum.opacity=255,this._setLabMoney(this.m_sumSpinCoin);var t=cc.instantiate(this.p_nodeNum);this.p_nodeNum.parent.addChild(t);var n=cc.scaleTo(.5,3),o=cc.fadeOut(.5),i=cc.spawn(n,o),a=cc.callFunc(function(){t.destroy()}.bind(this));t.runAction(cc.sequence(i,a))},t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.init();var o=t[0];console.log("ywbzzzzzzzzz",o),this.callBack=o[0],this.m_sumSpinCoin=Number(o[1]),this.m_sumTimes=o[2],this.sprBgAnimation(),this._setLabSecond(this.m_sumTimes),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Free_Game_Settlement,!1)},t.prototype.init=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.ball=this.node.getChildByName("ball"),this.jiesuan=this.node.getChildByName("jiesuan").getComponent(sp.Skeleton);for(var n=0;n<this.ball.children.length;n++){var o=this.ball.children[n];o.opacity=0}this.ball.y=270,this.m_time=0,this.p_nodeNum.opacity=0,this.jiesuan.node.opacity=0},t.prototype.onClose=function(){game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_PLAY_WIN_NUM_BEGIN,0,this.m_sumSpinCoin,1,1),slot.SpinManager.instance.totalWin=this.m_sumSpinCoin,slot.SoundMger.instance.playMusic(slot.SOUND_NAME.Game_Back_Music),l.default.instance.clearMusicTime()},t.prototype.onClickBtnDraw=function(){slot.SoundMger.instance.playEffect(r.SOUND_NAME.Fs_End,!1),game.UIManager.getInstance().closeByUIID(c.UIID.FREE_GAME_RESULT),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Free_Game_Settlement_End),this.callBack&&this.callBack.run(),this.p_btnDraw.node.opacity=0,this.onClose()},t.prototype._playLabMoney=function(){this._setLabMoney(0)},t.prototype._setLabSecond=function(e){this.p_nodeSecond.getComponent(s.default).string=e.toString()},t.prototype._setLabMoney=function(e){this.p_nodeMoney.getComponent(s.default).string=slot.SlotUtils.formatNumber(e,2)},t.prototype._playBtnDraw=function(){},t.prototype.update=function(e){this.m_time+=e,this.m_time>=5&&this.onClickBtnDraw()},a([d(cc.Node)],t.prototype,"p_nodeSecond",void 0),a([d(cc.Node)],t.prototype,"p_nodeMoney",void 0),a([d(cc.Button)],t.prototype,"p_btnDraw",void 0),a([d(cc.Node)],t.prototype,"p_nodeNum",void 0),a([d(cc.Node)],t.prototype,"spr_bg",void 0),a([u],t)}(game.UIView);n.default=h,cc._RF.pop()},{"../GameEventName111002001":"GameEventName111002001","../main/CommonNumAtlas111002001":"CommonNumAtlas111002001","../main/Main111002001":"Main111002001","../roller/GameLayer111002001":"GameLayer111002001"}],GameBg111002001:[function(e,t,n){"use strict";cc._RF.push(t,"597fcE2jUVAnZlW9rkQGMfA","GameBg111002001");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111002001"),s=e("../main/CommonNumAtlas111002001"),c=e("../tool/Tool"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeFree=null,t.p_nodeBg2=null,t.p_nodeFreeGameNum=null,t.p_nodeShadow=null,t.p_nodeSprRemain=null,t.p_nodeLfs=null,t}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_FREE_GAME_NUM,this._updateFreeGameNum,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_ADD_FREE_GAME_NUM,this._addFreeGameNum,this),this.initLayer(),this.p_nodeSprRemain.width>390&&(this.p_nodeSprRemain.x+=50),this.p_nodeFree.active=!1,this.p_nodeBg2.active=!1,c.default.p_nodeBg2=this.p_nodeBg2,"ja"!=slot.GData.curLanguage&&"ko"!=slot.GData.curLanguage&&"vi"!=slot.GData.curLanguage||(this.p_nodeSprRemain.scale=.8,this.p_nodeFreeGameNum.scale=1.2)},t.prototype.initLayer=function(){this.p_nodeBg2.removeFromParent(),this.p_nodeBg2.scale=1,slot.EntranceView.instance.addNode(this.p_nodeBg2,slot.LayerManage.menu)},t.prototype._onFreeGameStart=function(e,t){slot.MainView.instance.node.getChildByName("gameControPrefab").opacity=0,this.p_nodeBg2.active=this.p_nodeFree.active=!0,this.p_nodeShadow.active=!1,null!=t&&this._updateFreeGameNum("",t)},t.prototype._onFreeGameOver=function(){slot.MainView.instance.node.getChildByName("gameControPrefab").opacity=255,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!0),this.p_nodeBg2.active=this.p_nodeFree.active=!1,this.p_nodeShadow.active=!0},t.prototype._updateFreeGameNum=function(e,t){var n=t<=0;this.p_nodeSprRemain.active=!n,this.p_nodeLfs.active=n,slot.SoundMger.instance.playEffect("Fs_Remain_Notification",!1),this.p_nodeFreeGameNum.getComponent(s.default).string=""+t},t.prototype._addFreeGameNum=function(e,t,n){var o=this,i=Number(this.p_nodeFreeGameNum.getComponent(s.default).string),a=i+t,r=cc.sequence(cc.delayTime(.3),cc.callFunc(function(){++i>=a?(o.p_nodeFreeGameNum.getComponent(s.default).string=i.toString(),n.run()):o.p_nodeFreeGameNum.getComponent(s.default).string=i.toString()}));this.node.runAction(cc.repeat(r,t))},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_FREE_GAME_NUM,this._updateFreeGameNum,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_ADD_FREE_GAME_NUM,this._addFreeGameNum,this)},a([u(cc.Node)],t.prototype,"p_nodeFree",void 0),a([u(cc.Node)],t.prototype,"p_nodeBg2",void 0),a([u(cc.Node)],t.prototype,"p_nodeFreeGameNum",void 0),a([u(cc.Node)],t.prototype,"p_nodeShadow",void 0),a([u(cc.Node)],t.prototype,"p_nodeSprRemain",void 0),a([u(cc.Node)],t.prototype,"p_nodeLfs",void 0),a([p],t)}(slot.BaseView);n.default=d,cc._RF.pop()},{"../GameEventName111002001":"GameEventName111002001","../main/CommonNumAtlas111002001":"CommonNumAtlas111002001","../tool/Tool":"Tool"}],GameEventName111002001:[function(e,t,n){"use strict";cc._RF.push(t,"ca65fGvksNAQrdlFI+FdLPW","GameEventName111002001"),Object.defineProperty(n,"__esModule",{value:!0}),n.mouseEvent=n.SOUND_NAME=n.RoleAniType=n.WinType=n.EventName=void 0,function(e){e.EVENT_WIN_GAME="EVENT_WIN_GAME",e.EVENT_UPDATE_MULTIPLE="EVENT_UPDATE_MULTIPLE",e.EVENT_UPDATE_MULTIPLE_NUM="EVENT_UPDATE_MULTIPLE_NUM",e.EVENT_CONTINUE_REWARD="EVENT_CONTINUE_REWARD",e.EVENT_CONTINUE_REWARD_END="EVENT_CONTINUE_REWARD_END",e.FREE_GAME_START="FREE_GAME_START",e.FREE_GAME_OVER="FREE_GAME_OVER",e.EVENT_FREE_GAME_NUM="EVENT_FREE_GAME_NUM",e.EVENT_ADD_FREE_GAME_NUM="EVENT_ADD_FREE_GAME_NUM",e.EVENT_PLAY_WIN_NUM_BEGIN="EVENT_PLAY_WIN_NUM_BEGIN",e.EVENT_STOP_WIN_NUM="EVENT_STOP_WIN_NUM",e.EVENT_PLAY_ROLE_ANI="EVENT_PLAY_ROLE_ANI",e.EVENT_PLAY_SCORE_ANI="EVENT_PLAY_SCORE_ANI"}(n.EventName||(n.EventName={})),function(e){e.SuperWin="SuperWin",e.MargeWin="MargeWin",e.BigWin="BigWin",e.Lose="Lose",e.win="win",e.fiveEven="fiveEven",e.wild="wild"}(n.WinType||(n.WinType={})),function(e){e[e.Random=1]="Random",e[e.Multiplier=2]="Multiplier",e[e.WinMedium=3]="WinMedium",e[e.WinSmall=4]="WinSmall",e[e.FastSpinIdle=5]="FastSpinIdle"}(n.RoleAniType||(n.RoleAniType={})),function(e){e.Game_Back_Music="Game_Back_Music",e.FreeGame_Back_Music="FreeGame_Back_Music",e.Free_Game_Settlement="Free_Game_Settlement",e.Free_Game_Settlement_End="Free_Game_Settlement_End",e.Scatter_Expectation="Scatter_Expectation",e.Scatter_Expectation_End="Scatter_Expectation_End",e.Fs_Enter="Fs_Enter",e.Fs_Prepare="Fs_Prepare",e.Prize_Big="Prize_Big",e.Prize_Big_End="Prize_Big_End",e.Fs_Wild_Move="Fs_Wild_Move",e.Wild_Move="Wild_Move",e.Wild_Turn="Wild_Turn",e.Five_Prize="Five_Prize",e.Blue_Boxer="Blue_Boxer",e.Red_Boxer="Red_Boxer",e.Fs_Trigger="Fs_Trigger",e.Fs_Blue_Boxer="Fs_Blue_Boxer",e.Fs_Red_Boxer="Fs_Red_Boxer",e.Currency_Button="Currency_Button",e.Reel_Stop="Reel_Stop",e.Reel_Stop_Quick="Reel_Stop_Quick",e.Reel_Click="Reel_Click",e.Line_Switch="Line_Switch",e.Scatter="Scatter",e.Wild="Wild",e.Spin_Button_Sound="Spin_Button_Sound",e.Reel_Spin="Reel_Spin",e.Fs_Start="Fs_Start",e.Fs_End="Fs_End",e.Textbox_01="Textbox_01",e.Textbox_Coin="Textbox_Coin",e.Textbox_02="Textbox_02"}(n.SOUND_NAME||(n.SOUND_NAME={})),function(e){e.GET_REWARD_AND_POP_TIME="GET_REWARD_AND_POP_TIME",e.GET_REWARD_BOARD_CALL="GET_REWARD_BOARD_CALL",e.GET_REWARD_BEFOR="GET_REWARD_BEFOR",e.INIT_TO_FREE_GAME="INIT_TO_FREE_GAME",e.FREE_GAME_CLOSE="FREE_GAME_CLOSE",e.INIT_MOUSE_MOVE_POS="INIT_MOUSE_MOVE_POS",e.INIT_MOUSE_MOVE_POS_REWARD="INIT_MOUSE_MOVE_POS_REWARD",e.MOUSE_MOVE_POS="MOUSE_MOVE_POS",e.CLEAR_MOUSE_MOVE="CLEAR_MOUSE_MOVE",e.SEVER_DATA_INIT="SEVER_DATA_INIT",e.ANIMATION_STOP_CALL_BACK="ANIMATION_STOP_CALL_BACK",e.NORMAL_RECONNECTION_DATA="NORMAL_RECONNECTION_DATA",e.FREE_RECONNECTION_DATA="FREE_RECONNECTION_DATA",e.ROLL_ANI_START="ROLL_ANI_START",e.ROLL_ANI_START_WHO="ROLL_ANI_START_WHO",e.ROLL_ANI_END="ROLL_ANI_END",e.FREE_GAME_ADD_TIME="FREE_GAME_ADD_TIME",e.ROLL_END_CALL_BACK="ROLL_END_CALL_BACK",e.MOUSE_MOVE_END="MOUSE_MOVE_END",e.MOUSE_BIG_MOVE_END="MOUSE_BIG_MOVE_END",e.OPACITY_END="OPACITY_END",e.GET_RAWARD_FOOD="GET_RAWARD_FOOD",e.GET_REWARD_BEGAN="GET_REWARD_BEGAN",e.GET_FREE_REWARD_BEGAN_MOUSE_BG="GET_FREE_REWARD_BEGAN_MOUSE_BG",e.PLAY_BURST_ANI_BEGAN="PLAY_BURST_ANI_BEGAN",e.PLAY_ROLL_ANI_BEGAN="PLAY_ROLL_ANI_BEGAN",e.PLAY_ROLL_ANI_END="PLAY_ROLL_ANI_END",e.TOP_ANI_START="TOP_ANI_START",e.TOP_ANI_END="TOP_ANI_END",e.ROLL_END_STEP_TASK="ROLL_END_STEP_TASK",e.NOT_HAVE_MONY_OPEN_ROLL="NOT_HAVE_MONY_OPEN_ROLL",e.ROLL_PLAY="ROLL_PLAY",e.ROLL_PLAY_INFO="ROLL_PLAY_INFO",e.RIDE_ANI_IN_TARGET="RIDE_ANI_IN_TARGET",e.ROLL_REWARD_END="ROLL_REWARD_END",e.PROGRESS_END="PROGRESS_END",e.RIDE_NUMEBER_GEGAN_FADOUT="RIDE_NUMEBER_GEGAN_FADOUT",e.BEGAIN_RIDE_ANI="BEGAIN_RIDE_ANI",e.BIG_WIN_ANI_END_CALL_BACK="BIG_WIN_ANI_END_CALL_BACK",e.PLAY_BOX_ANI="PLAY_BOX_ANI",e.BEGAIN_GOLD="BEGAIN_GOLD",e.BEGAIN_SPRIT="BEGAIN_SPRIT",e.Reel_Stop_EVENT="Reel_Stop_EVENT",e.TRAIN_BEGAIN="TRAIN_BEGAIN",e.WIN_SCOR_EVENT="WIN_SCOR_EVENT",e.PLAY_PLAYER_ANI="PLAY_PLAYER_ANI",e.SPEIN_ROLLING_RESP="SPEIN_ROLLING_RESP"}(n.mouseEvent||(n.mouseEvent={})),cc._RF.pop()},{}],GameLayer111002001:[function(e,t,n){"use strict";cc._RF.push(t,"03dfd0k2WFPcJVsFSNgFaM+","GameLayer111002001");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../bonusGame/BonusGame111002001"),s=e("../freeGameResult/FreeGameResult"),c=e("../GameEventName111002001"),l=e("../item/TrainAniCtrl"),p=e("../main/CommonNumAtlas111002001"),u=e("../main/Main111002001"),d=e("../tool/Tool"),h=e("./scrollerSkins/JTChildManager111002001"),_=e("./scrollerSkins/JTLayerManager111002001"),f=e("./scrollerSkins/JTLogicFactroy111002001"),m=cc._decorator,y=m.ccclass,N=m.property,E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.roller=null,t.rollMarsk=null,t.rollPushMarsk=null,t.ordinaryGameNode=null,t.freeGameNode=null,t.clickMarsk=null,t.topAniMarsk=null,t.fiveStarNode=null,t.trackNode=null,t.resultNode=[],t.startNode=[],t.resultCloneNode=[],t.resultSpine=[],t.lightNode=[],t.freeNodeClone=null,t.targetNode=null,t.bonusGameNode=null,t.reel_bg_b=null,t.bigWinAniNodePrefab=null,t.freeLabelNode=null,t.bigWinLayerIsThat=!1,t.rollLineTime=0,t.scatterDopGapTime=.02,t.scatterDopWaitTime=1,t.isFirstInGame=!0,t.lastTimeRide=0,t.reRunNode=null,t.isInit=!0,t.numTime=0,t.scatterM_time=3,t.TouchRollM_time=3,t.isCanScatter=!0,t.isCanTouchRoll=!0,t.interval=0,t.musicTime=0,t.musicPlayBool=!1,t.isCloseLoadingView=!1,t.m_arrCannonNum={5:[6,12,18,40],10:[3,6,9,20],20:[1,2,3,5]},t.m_isChufaFree=!1,t.scatterTask=null,t.wildTask=null,t.scroller=null,t.m_isRunning=!1,t.addMarskTime=!0,t._spinAniViews=[],t.bRooling=!1,t.starIndex=null,t.bigWinTime=0,t.cb=null,t.isNeedToFreeGame=!1,t.freeGameInfo=null,t.isInFast=!1,t.isRespinMode=!1,t.bounsGamePrefab=null,t.bounsGamePrefabNode=null,t.freeGameResultPrefab=null,t.freeGameResultNode=null,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){slot.SlotConfigManager.instance.registerJPTypes(3),e.prototype.onLoad.call(this),n.instance=this,game.EventManager.getInstance().addEventListener(slot.NetSlotConst.BUYFREESPINRESP,this.buyFreeResp,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.RESTORERESP,this.setRespData,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_SHOW,this.winAniStart,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this.winAniEnd,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_TREAT_FULL_LINE_IN_LOOP,this.playFullLine,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.reelClick,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_HIDE,this.reelClickHide,this),game.EventManager.getInstance().addEventListener(c.mouseEvent.ROLL_END_STEP_TASK,this.stepTask,this),game.EventManager.getInstance().addEventListener(c.mouseEvent.PLAY_PLAYER_ANI,this.playerAniTimeCtrl,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_COIN_SCROLLER_END,this.callBackSuperOver,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this)},t.prototype.onDestroy=function(){this.dispose(),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.BUYFREESPINRESP,this.buyFreeResp,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.RESTORERESP,this.setRespData,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_SHOW,this.winAniStart,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this.winAniEnd,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_TREAT_FULL_LINE_IN_LOOP,this.playFullLine,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.reelClick,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_HIDE,this.reelClickHide,this),game.EventManager.getInstance().removeEventListener(c.mouseEvent.ROLL_END_STEP_TASK,this.stepTask,this),game.EventManager.getInstance().removeEventListener(c.mouseEvent.PLAY_PLAYER_ANI,this.playerAniTimeCtrl,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_COIN_SCROLLER_END,this.callBackSuperOver,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this)},t.prototype.onCloseLoadingViemListen=function(t){e.prototype.onCloseLoadingViemListen.call(this,t),this.isCloseLoadingView=!0,this.clearMusicTime()},t.prototype.update=function(e){if(this.isCloseLoadingView&&(this.numTime<=1&&(this.numTime+=e),this.numTime>=1&&(this.numTime=0,this.scatterM_time>=0&&0==this.scatterM_time&&(this.isCanScatter=!0),this.TouchRollM_time>=0&&0==this.TouchRollM_time&&(this.isCanTouchRoll=!0),this.TouchRollM_time-=1,this.scatterM_time-=1),this.isInit||this.bRooling||!d.default.isPastTime(this.musicTime)||(this.clearMusicTime(),d.default.gameState||(this.musicPlayBool=!0,slot.SoundMger.instance.stopEffect("Game_Back_Ambient"),slot.SoundMger.instance.playEffect("Game_Back_Ambient",!0),this.setBackMusic(!1))),this.isInit=!1,d.default.isPastTime(this.interval)&&(this.interval=d.default.getNowTime()+9e3,!d.default.gameState))){var t,n=slot.MathUtil.getRandomRange(1,2,!0);t="idle_0"+n,slot.SoundMger.instance.playEffect("Role_Standby_0"+n,!1),game.EventManager.getInstance().raiseEvent(c.mouseEvent.PLAY_PLAYER_ANI,t)}},t.prototype.playerAniTimeCtrl=function(){this.interval=d.default.getNowTime()+9e3},t.prototype.start=function(){game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_STOP_WIN_NUM),this.reRunNode=this.node.getChildByName("reRunNode"),this.reRunNode.active=!1,d.default.marsk=this.node.getChildByName("marsk"),d.default.marsk.active=!1,slot.EntranceView.instance.node.getChildByName("spr_bg2")&&(this.freeLabelNode=slot.EntranceView.instance.node.getChildByName("spr_bg2").getChildByName("spr_remaining").getChildByName("lab_num"),d.default.getPosByOtherNode(this.freeLabelNode,this.roller.parent.parent));for(var e=1;e<=2;e++){var t=this.freeGameNode.getChildByName("light"+e),n=cc.fadeIn(.5),o=cc.fadeOut(.5),i=cc.sequence(n,o);t.runAction(cc.repeatForever(i))}var a=cc.Canvas.instance.node;this.bonusGameNode.parent=a},t.prototype.test=function(e,t){0==t?game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM_BEGIN,3e3,null,1,1):1==t?game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM_BEGIN,3e3,3e4,1,1):2==t&&(d.default.p_nodeBg2.active=!0)},t.prototype.stepTask=function(e,t){var n=this;if(this.isFirstInGame)return t.run(),void(this.isFirstInGame=!1);if(d.default.serverSpinResult.updateList){var o=d.default.serverSpinResult.updateList[0].value.handleState.game_1110020.data.lgIdList,i=d.default.serverSpinResult.spinResult.grid,a=!1,r=0,s=[],l=null;d.default.trainData=[],d.default.serverSpinResult.spinResult&&0!=(l=Number(d.default.serverSpinResult.spinResult.spinCoin))&&game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM_BEGIN,l,null,1,1);for(var p,u=function(e){9==i[e]&&(slot.SlotMachineView.instance.scroller.getRenderByIndex(e+1).playTrainAni(),s.push(d.default.getLineNumberByPos(e)),h.lightNode[d.default.getLineNumberByPos(e)-1].opacity=255,h.scheduleOnce(function(){this.lightNode[d.default.getLineNumberByPos(e)-1].runAction(cc.fadeOut(.5))},2),e+=2,a=!0),p=e},h=this,_=0;_<i.length;_++)u(_),_=p;if(a){var f=0;0!=l?(f=1,r=5):r=4,this.scheduleOnce(function(){n.trainAni(),game.EventManager.getInstance().raiseEvent(c.mouseEvent.TRAIN_BEGAIN)},f)}if(o&&null!=o[0])for(_=0;_<o.length;_++){var m=Number(o[_]);d.default.trainData.push(m)}this.initTrainData(d.default.trainData,s);var y=cc.delayTime(r),N=cc.callFunc(function(){t.run()}.bind(this));this.node.runAction(cc.sequence(y,N))}else t.run()},t.prototype.trainAni=function(){for(var e=0;e<this.resultCloneNode.length;e++)this.resultCloneNode[e].getComponent(l.default).dataNode.opacity=0;slot.SoundMger.instance.playEffect("Train_Delivery",!1),slot.SoundMger.instance.playEffect("Reel_Train",!1),this.reel_bg_b.opacity=255;var t=cc.moveTo(2,cc.v2(-1620,602)),n=cc.moveTo(.5,cc.v2(-1600,602)),o=cc.callFunc(function(){this.trackNode.setPosition(cc.v2(-331,602));for(var e=0;e<this.resultCloneNode.length;e++)this.resultCloneNode[e].getComponent(l.default).dataOpacityCtrl()}.bind(this));this.trackNode.runAction(cc.sequence(t,n,o))},t.prototype.initTrainData=function(e,t){for(var n=0;n<t.length;n++){var o=e[n],i=null,a=null;null!=o&&null!=o||(this.resultNode[t[n]-1].opacity=0);var r=e[n];11100200101==r||11100200102==r||11100200108==r||11100200109==r||11100200110==r||11100200111==r||11100200112==r||11100200113==r?a=0:11100200104==r||11100200107==r||11100200106==r?a=1:11100200105==r&&(a=2),11100200101==r||11100200108==r||11100200109==r?i="2x":11100200102==r||11100200110==r||11100200111==r?i="4x":11100200103==r||11100200112==r||11100200113==r?i="5x":null!=r&&null!=r&&(i="idle"),this.resultCloneNode[t[n]-1].getComponent(l.default).refresh(a,this.resultSpine[a],i,r),this.resultNode[t[n]-1].getComponent(sp.Skeleton).skeletonData=this.resultSpine[a],null!=i&&this.resultNode[t[n]-1].getComponent(sp.Skeleton).setAnimation(0,i,!0)}},t.prototype.startTrainSpinAniCtrl=function(){},t.prototype.reelClick=function(){slot.SoundMger.instance.playEffect(c.SOUND_NAME.Reel_Click,!1),this.clickMarsk.active=!0},t.prototype.reelClickHide=function(){this.clickMarsk.active=!1},t.prototype.onInit=function(){slot.SpinManager.instance.isFullLineAvailable=!1,this._initSlotMachineView(),console.log("oninit")},t.prototype.onInitScroller=function(e){var t=this,n=this.scroller=e.scroller,o=slot.SlotConfigManager.instance.DataGame.getData(slot.SlotConfigManager.instance.gameID);n.setupFactory(new _.default,new h.default,new f.default),slot.JTDefaultItemRender.setPlayCoinIndex(2,7,3),n.addMixItemConfig(9,3,1),n.addMixItemConfig(11,3,3),n.addMixItemConfig(12,2,2);var i=n.options(slot.JTScrollingMixPipeline,slot.JTScrollerGroup.USE_CONVERT_MROE_LIST,o.column,e.scrollingComplete);i.childOption(slot.JTCreateMixScrolling,slot.JTOptionType.OPTION_CREATE),i.childOption(slot.JTBeginMixScrolling,slot.JTOptionType.OPTION_BEGIN_RUNNING,e.beginScrolling),i.childOption(slot.JTRunMixScrolling,slot.JTOptionType.OPTION_RUNNING,e.onSpinPreStop),i.childOption(slot.JTOverMixScrolling,slot.JTOptionType.OPTION_OVER_RUNNING,e.scrollingProgress),n.setupDefaultItemList(this.getSourceList,slot.SlotConfigManager.instance.DataElement.getKeys(),!1),this.scatterTask=new slot.JTScatterTask,this.scatterTask.callScatterComplete=function(e){slot.SoundMger.instance.stopEffect(c.SOUND_NAME.Scatter_Expectation),slot.SoundMger.instance.playEffect(c.SOUND_NAME.Scatter_Expectation_End),4==e.index&&(this.m_isRunning&&(this.interval=d.default.getNowTime()+8e3,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!0),game.EventManager.getInstance().raiseEvent(c.mouseEvent.ROLL_ANI_END)),this.m_isRunning=!1),this.rollPushMarsk.active=!1}.bind(this),this.scatterTask.config(12,2,"30-55-1",0,1e3,null,!0,null,function(e){0==t.m_isRunning&&(t.m_isRunning=!0,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!1),t.isCanScatter&&(t.isCanScatter=!1,t.scatterM_time=3),t.interval=d.default.getNowTime()+8e3,game.EventManager.getInstance().raiseEvent(c.mouseEvent.ROLL_ANI_START,4)),e.skinLoader.y=-252,e.skinLoader.x=e.x+45,e.skinLoader.scaleX=1.5,e.skinLoader.scaleY=1.6,slot.SoundMger.instance.playEffect(c.SOUND_NAME.Scatter_Expectation,!1);var n=cc.delayTime(.05),o=cc.callFunc(function(){game.EventManager.getInstance().raiseEvent(c.mouseEvent.ROLL_ANI_START_WHO,e.index)}.bind(t));e.skinLoader.runAction(cc.sequence(n,o));var i=d.default.getPosByOtherNode(e.skinLoader,t.rollPushMarsk.parent);t.rollPushMarsk.x=i.x,t.rollPushMarsk.y=i.y,t.rollPushMarsk.active=!0,t.rollPushMarsk.zIndex=51},slot.JTScatterTask.ITEM_COUNT_MODE,null,!1,!1),n.registerTask(slot.JTRuleTaskManager.TYPE_SCATTER,this.scatterTask,new slot.JTTaskContainer)},t.prototype.event_stop_slot_machine_immediately=function(){this.m_isRunning=!1},t.prototype.buyFreeResp=function(e,t){d.default.serverSpinResult=t,game.EventManager.getInstance().raiseEvent(c.mouseEvent.TRAIN_BEGAIN),console.log("ywbbuyFreeResp",t)},t.prototype._initSlotMachineView=function(){var e=this;slot.EliminateEffectUtils.setup(1500,.12,.08,.1,.8,.1,slot.EliminateDisappearUtils.disappearTime,slot.EliminateDisappearUtils.disappreaDelayTime,.05,this.scatterDopGapTime,this.scatterDopWaitTime),this.slotMachine.spaceX=-16,this.slotMachine.spaceY=15,this.slotMachine.gridWidth=160,this.slotMachine.gridHeight=156,this.slotMachine.showLineDuration=1500,this.slotMachine.afterRender(this,this._rederAfter),this.scheduleOnce(function(){e.slotMachine.scroller.changeDataMode(!0,2)},3),this.slotMachine.onItemRender(this,this._onSpinSlotRender),this._registerSlotMachineAnimation()},t.prototype.setRespData=function(e,t){d.default.respData=t;var n=t.state;if(n.freeData&&2==n.state){var o=Number(n.normalData.spinInfo.spinResult.spinCoin),i=n.freeData.times;slot.MainView.instance.node.getChildByName("menu").opacity=0,0!=o&&game.EventManager.getInstance().raiseEvent(c.mouseEvent.NORMAL_RECONNECTION_DATA,o),this.scheduleOnce(function(){game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_FREE_GAME_NUM,i)},.2),this.freeGameChangeBg(!0)}else if(n.normalData){var a=Number(n.normalData.sumSpinCoin),r=(o=Number(n.normalData.spinInfo.spinResult.spinCoin),Number(n.normalData.spinInfo.spinResult.lgCoin));0!=a?game.EventManager.getInstance().raiseEvent(c.mouseEvent.FREE_RECONNECTION_DATA,a):0!=r?game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM_BEGIN,r,null,1,2):0!=o&&game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM_BEGIN,o,null,1,1)}},t.prototype._rederAfter=function(){var e=this;d.default.serverSpinResult=slot.SpinManager.instance.rollingResult,slot.SpinManager.instance.spinTouchEnable=!0;var t=this.node.getChildByName("rotatingButton"),n=slot.MainView.instance.node.getChildByName("gameControPrefab").getChildByName("New Node").getChildByName("start_btn"),o=d.default.getAllDataInRoller();t.parent=n,t.zIndex=99,t.setPosition(0,0),this.clickMarsk.zIndex=49;for(var i=0;i<o.length;i++)o[i]._showFrameAniView(slot.SlotMachineView.instance,i,function(){for(var t=0;t<15;t++)d.default.allDataPos.push(e.roller.getChildByName("effectNode"+t))});if(this.initRenderState(),d.default.bigWinAniNodePrefab=this.bigWinAniNodePrefab,d.default.respData){var a=0;if(d.default.respData.state.normalData&&(a=d.default.respData.state.normalData.spinInfo.spinResult.spinCoin,!d.default.respData.state.freeData)){var r=d.default.respData.state.normalData.sumSpinCoin;r>0&&(a=r)}a>0&&game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM_BEGIN,Number(a),null,1,1)}},t.prototype.initRenderState=function(){},t.prototype.callBackSuperOver=function(){slot.SoundMger.instance.stopEffect(c.SOUND_NAME.Prize_Big),d.default.serverSpinResult.spinResult&&slot.SoundMger.instance.playEffect(c.SOUND_NAME.Prize_Big_End,!1)},t.prototype.winAniScale=function(e){var t=cc.scaleTo(.3,1.1),n=cc.scaleTo(.3,1);e.runAction(cc.sequence(t,n))},t.prototype._registerSlotMachineAnimation=function(){this.slotMachine.onContinuousNotWinAnimation(this,this._playContinuousNotWinAnimation),this.slotMachine.onNormalRewardsAnimation(this,this._playNormalRewardsAnimation),this.slotMachine.onFullLineAnimation(this,this._playFullLineAnimation),this.slotMachine.onGreatRewardsAnimation(this,this._playGreatRewardsAnimation),this.slotMachine.onMiddleRewardsAnimation(this,this._playMiddleRewardsAnimation),this.slotMachine.onSmallRewardsAnimation(this,this._playSmallRewardsAnimation),this.slotMachine.onSpinStart(this,this._onSpinStart),this.slotMachine.onSpinStop(this,this._onSpinStop),this.slotMachine.onSpinComplete(this,this._onSpinComplete),this.slotMachine.onSpinBegin(this,this._onSpinBegin)},t.prototype._onSpinComplete=function(){slot.SoundMger.instance.stopEffect("Reel_Start"),this.bRooling=!1,this.clearMusicTime(),console.log("ywb\u6eda\u8f74\u505c\u6b62",d.default.trainData,d.default.trainData[0],null==d.default.trainData[0]),null==d.default.trainData[0]&&(d.default.marsk.active=!1)},t.prototype._onSpinStop=function(){this.addSpecalData(),this.rollLineTime++},t.prototype.addSpecalData=function(){var e=null;if(d.default.serverSpinResult.spinResult){e=d.default.serverSpinResult.spinResult.grid;for(var t=[3*this.rollLineTime,3*this.rollLineTime+2],n=t[0];n<=t[1];n++)e[n]}},t.prototype._onRollingResp=function(e,t){d.default.serverSpinResult=t,d.default.respData=t;for(var n=t.spinResult.grid,o=0,i=0;i<n.length;i++)12==n[i]&&o++;o>=2&&(d.default.isCanRoolAni=!0),console.log("ywb",t),this.isRespinMode&&(this.isRespinMode=!1,slot.SpinManager.instance.spinTouchEnable=!1,this.reSpineBgAni()),game.EventManager.getInstance().raiseEvent(c.mouseEvent.SPEIN_ROLLING_RESP)},t.prototype._onSpinStart=function(){this.unschedule(this._clearSpinReelAni),this._clearSpinReelAni()},t.prototype.clearMusicTime=function(){this.musicTime=d.default.getNowTime()+15e3},t.prototype.setBackMusic=function(e){var t=slot.SoundMger.instance.musicVolume;slot.SoundMger.instance.setSingleMusicVolume(slot.SOUND_NAME.Game_Back_Music,e?t/100*1:0)},t.prototype._onSpinBegin=function(){var e=this;slot.SoundMger.instance.playEffect("Reel_Start",!0),this.fiveStarNode.opacity=0,this.resultNode.forEach(function(e){e.opacity=255}),d.default.scatterNumber=0,d.default.clearData=[],d.default.isCanRoolAni=!1,this.rollLineTime=0,game.EventManager.getInstance().raiseEvent(c.mouseEvent.ROLL_PLAY),this.bRooling=!0,this.musicPlayBool&&!d.default.gameState&&(this.musicPlayBool=!1,this.setBackMusic(!0),slot.SoundMger.instance.stopEffect("Game_Back_Ambient"));for(var t=d.default.getAllDataInRoller(),n=0;n<t.length;n++)t[n].init();this.scheduleOnce(function(){1==d.default.serverSpinResult.state&&(game.EventManager.getInstance().raiseEvent(c.mouseEvent.ROLL_PLAY_INFO),console.log("ywb\u906e\u7f69\u6253\u5f00"),d.default.marsk.active=!0),3!=d.default.serverSpinResult.state&&(e.reel_bg_b.opacity=0)},.1),(d.default.serverSpinResult.userInfo?Number(d.default.serverSpinResult.userInfo.balance):Number(d.default.serverSpinResult.balance))<slot.SpinManager.instance.betCost&&game.EventManager.getInstance().raiseEvent(c.mouseEvent.NOT_HAVE_MONY_OPEN_ROLL),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_STOP_WIN_NUM),this.m_isChufaFree?game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_SCORE_ANI,slot.WinAniType.Small):game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_SCORE_ANI,slot.WinAniType.Normal),d.default.respData=null},t.prototype.beforeScorllerStartRoller=function(){this.slotMachine.scroller.setOncePendingSchedule()},t.prototype.onScrollerStartComplete=function(){this.slotMachine.scroller.continuePendingTask()},t.prototype.setGungzhouTime=function(e){this.slotMachine.scroller.items[1].time=e,this.slotMachine.scroller.items[2].time=e,this.slotMachine.scroller.items[3].time=e,this.slotMachine.scroller.items[4].time=e,this.slotMachine.scroller.items[0].time=e},t.prototype._clearSpinReelAni=function(){},t.prototype._playContinuousNotWinAnimation=function(e,t){t.run()},t.prototype._playNormalRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Normal,e,t),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_WIN_GAME,c.WinType.win)},t.prototype._playFullLineAnimation=function(e,t){game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_WIN_GAME,c.WinType.fiveEven),t.run()},t.prototype.playFullLine=function(){var e=this;this.starIndex++,this.fiveStarNode.opacity=255,this.fiveStarNode.stopAllActions(),slot.SoundMger.instance.playEffect(c.SOUND_NAME.Five_Prize,!1);var t=this.fiveStarNode.getChildByName("fiveStarSpine").getComponent(sp.Skeleton);t.setAnimation(0,"5wni",!1),t.addAnimation(0,"5wni_back",!1),t.setCompleteListener(function(){e.fiveStarNode.opacity=0})},t.prototype.winAniStart=function(){this.bigWinLayerIsThat||(slot.SoundMger.instance.playEffect(c.SOUND_NAME.Prize_Big,!1),this.bigWinLayerIsThat=!0)},t.prototype.winAniEnd=function(){this.bigWinLayerIsThat=!1,this.bigWinTime=0,slot.SoundMger.instance.playEffect("Prize_Big_Exit",!1),game.EventManager.getInstance().raiseEvent(c.mouseEvent.BIG_WIN_ANI_END_CALL_BACK,1,0)},t.prototype._playGreatRewardsAnimation=function(e,t){var n=this,o=slot.Handler.create(this,function(){n.m_isChufaFree&&game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_SCORE_ANI,slot.WinAniType.Great),t.run()});this.showWinAniView(slot.WinAniType.Great,e,o)},t.prototype._playMiddleRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Middle,e,t)},t.prototype._playSmallRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Small,e,t),this.m_isChufaFree?game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_SCORE_ANI,slot.WinAniType.Middle):game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_SCORE_ANI,slot.WinAniType.Small)},t.prototype._onSpinSlotRender=function(){},t.prototype.addEventListener=function(){e.prototype.addEventListener.call(this)},t.prototype.removeEventListener=function(){e.prototype.removeEventListener.call(this)},t.prototype.addFreeSpinsAni=function(e,t,n){if(void 0===t&&(t=null),console.log("ywb\u514d\u8d39\u6e38\u620f\u8fdb\u5165",t),t.type==slot.OperationState.Free){slot.SoundMger.instance.playMusic(c.SOUND_NAME.FreeGame_Back_Music),d.default.gameState=!0;var o=!1,i=d.default.trainData.indexOf(11100200105);i>-1&&d.default.trainData.splice(i,1),slot.SoundMger.instance.playEffect("Fs_Intro_Ball",!1);for(var a=function(e){var i=r.resultCloneNode[e].getComponent(l.default);if(2==i.type){i.initData(),o=!0;var a=cc.instantiate(r.freeNodeClone),s=cc.v2(160*(i.radius-2),110);r.freeNodeClone.parent.addChild(a),a.setPosition(s),a.opacity=255,a.getChildByName("star").getComponent(sp.Skeleton).setAnimation(0,"star_boom2",!1);var p=a.getChildByName("freeSpineClone").getComponent(sp.Skeleton);p.setAnimation(0,"win",!1);var u=cc.delayTime(.3),d=cc.moveTo(.5,cc.v2(r.targetNode.x,r.targetNode.y)),h=cc.callFunc(function(){p.setAnimation(0,"win_spins",!1)}.bind(r)),_=cc.moveBy(.5,cc.v2(0,-620)),f=cc.scaleTo(.5,1.4),m=cc.spawn(_,f),y=cc.delayTime(.2),N=cc.callFunc(function(){this.bonusGameBegain(n,t.sumTimes)}.bind(r)),E=cc.callFunc(function(){game.EventManager.getInstance().raiseEvent(c.mouseEvent.PLAY_PLAYER_ANI,"shakeHand"),a.destroy()}.bind(r));a.runAction(cc.sequence(u,d,h,m,N,y,E))}r.scheduleOnce(function(){o||n.run()},.1)},r=this,s=0;s<this.resultCloneNode.length;s++)a(s)}else n.run()},t.prototype.bonusGameBegain=function(e,t){var n=this,o=this.bonusGameNode.getChildByName("light"),i=this.bonusGameNode.getChildByName("lableNode"),a=i.getChildByName("numberNode").getComponent(p.default);o.getComponent(sp.Skeleton).setAnimation(0,"big_win_back",!1),this.bonusGameNode.active=!0,this.bonusGameNode.runAction(cc.fadeIn(.2)),i.scale=0,a.string=String(t),this.scheduleOnce(function(){i.runAction(cc.scaleTo(.5,1))},.5),this.scheduleOnce(function(){e.run(),n.bonusGameNode.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){n.bonusGameNode.active=!1})))},4)},t.prototype.freeGameChangeBg=function(e){d.default.gameState=e,this.m_isChufaFree=e,e?(1==slot.GameControlBase.instance.fastBtnState?this.isInFast=!0:this.isInFast=!1,slot.SpinManager.instance.isInTurbo=!1,this.freeGameNode.opacity=255,this.ordinaryGameNode.opacity=0,this.node.getChildByName("scrollerLayer").getChildByName("freeBg").opacity=160):(this.isInFast&&(slot.SpinManager.instance.isInTurbo=!0),this.freeGameNode.opacity=0,this.ordinaryGameNode.opacity=255,this.node.getChildByName("scrollerLayer").getChildByName("freeBg").opacity=0)},t.prototype.refreshRoom=function(){},t.prototype.onInitFreeGame=function(e,t){switch(console.log("oniniffreegame",e),e.type){case slot.OperationState.Free:game.EventManager.getInstance().raiseEvent(c.EventName.FREE_GAME_START,e.times);var n=slot.MainView.instance.node.getChildByName("menu");n&&(n.opacity=0),slot.SoundMger.instance.playMusic(c.SOUND_NAME.FreeGame_Back_Music);break;case slot.OperationState.ReSpin:}t.runWith(!0)},t.prototype.onFreeGameTriggered=function(e,t){var n=this;switch(console.log("onFreeGameTriggered",e),e.type){case slot.OperationState.Free:slot.MainView.instance.node.getChildByName("menu").opacity=0,slot.MainView.instance.node.getChildByName("scorePrefab").y=-650,console.log("onFreeGameTriggeredFREE_GAME_START"),game.EventManager.getInstance().raiseEvent(c.EventName.FREE_GAME_START,e.sumTimes),this.freeGameChangeBg(!0),this.m_isChufaFree=!0,t.run();break;case slot.OperationState.ReSpin:this.scheduleOnce(function(){t.run(),n.beforeScorllerStartRoller()},2),this.isRespinMode=!0}},t.prototype.reSpineBgAni=function(){var e=this;slot.SoundMger.instance.playEffect("Respin_Title",!1);var t=this.reRunNode.getChildByName("flare");this.reRunNode.active=!0,this.reRunNode.runAction(cc.fadeIn(.5)),t.runAction(cc.moveBy(.5,cc.v2(0,-30)));var n=d.default.trainData.indexOf(11100200104);n>-1&&d.default.trainData.splice(n,1),this.scheduleOnce(function(){d.default.marsk.active=!1},.02),cc.tween(this.node).delay(1.5).call(function(){e.reRunNode.runAction(cc.fadeOut(.5)),t.runAction(cc.moveBy(.5,cc.v2(0,30)))}).delay(2.5).call(function(){for(var t=null,n=0,o=0;o<d.default.serverSpinResult.updateList.length;o++)11==(r=d.default.serverSpinResult.updateList[o]).type&&(t=r.value.random);if(t)for(var i=0;i<e.resultCloneNode.length;i++)1==(s=(r=e.resultCloneNode[i]).getComponent(l.default)).type&&(s.playSpritAni(t[n]),n++);else{cc.Tween.stopAllByTag(1001);for(var a=0;a<e.resultCloneNode.length;a++){var r,s;1==(s=(r=e.resultCloneNode[a]).getComponent(l.default)).type&&s.initData()}e.onScrollerStartComplete()}}).delay(2.5).call(function(){e.onScrollerStartComplete()}).tag(1001).start()},t.prototype.onFreeGameInfoUpdated=function(e){switch(console.log("onFreeGameInfoUpdated",e),e.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}},t.prototype.onFreeGameOver=function(e,t){switch(console.log("onFreeGameOver",e),this.isNeedToFreeGame=!1,e.type){case slot.OperationState.Free:slot.MainView.instance.node.getChildByName("scorePrefab").y=-650,slot.MainView.instance.node.getChildByName("menu").opacity=255,game.EventManager.getInstance().raiseEvent(c.EventName.FREE_GAME_OVER),this.freeGameChangeBg(!1),this.m_isChufaFree=!1;var n=slot.Handler.create(this,function(){game.EventManager.getInstance().raiseEvent(c.mouseEvent.ROLL_PLAY_INFO),game.EventManager.getInstance().raiseEvent(c.mouseEvent.PLAY_PLAYER_ANI,"total_win_exit"),t.runWith(!0)});game.EventManager.getInstance().raiseEvent(c.mouseEvent.PLAY_PLAYER_ANI,"total_win_idle"),this.bigWinLayerIsThat||game.UIManager.getInstance().open(u.UIID.FREE_GAME_RESULT,[n,e.sumSpinCoin,e.sumTimes]);break;case slot.OperationState.ReSpin:this.isRespinMode=!1,t.runWith(!0)}},t.prototype.onFreeGameTriggerAgain=function(e,t){switch(e.type){case slot.OperationState.Free:var n=slot.Handler.create(this,function(){t.run()});game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_ADD_FREE_GAME_NUM,e.times,n);break;case slot.OperationState.ReSpin:t.run()}},t.prototype.onFreeGameTimesUpdated=function(e){game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_FREE_GAME_NUM,e)},t.prototype.onBonusGameTriggered=function(e,t){t.runWith(!0)},t.prototype.onBonusGameOver=function(e,t){t.runWith(!0),this.hideBounsGamePrefab()},t.prototype.showBounsGamePrefab=function(e,t,n){this.bounsGamePrefabNode=cc.instantiate(this.bounsGamePrefab);var o=cc.Canvas.instance.node;this.bounsGamePrefabNode.getComponent(cc.Widget).target=o,o.addChild(this.bounsGamePrefabNode,slot.LayerManage.effect),this.bounsGamePrefabNode.getComponent(r.default).onOpen(e,t,n)},t.prototype.hideBounsGamePrefab=function(){this.bounsGamePrefabNode&&(this.bounsGamePrefabNode.active=!1,cc.Canvas.instance.node.removeChild(this.bounsGamePrefabNode))},t.prototype.showFreeGameResultPrefab=function(e,t,n,o){this.freeGameResultNode=cc.instantiate(this.freeGameResultPrefab);var i=cc.Canvas.instance.node;this.freeGameResultNode.getComponent(cc.Widget).target=i,i.addChild(this.freeGameResultNode,slot.LayerManage.effect),this.freeGameResultNode.getComponent(s.default).onOpen(e,t,n,o)},t.prototype.hideFreeGameResultPrefab=function(){this.freeGameResultNode&&(this.freeGameResultNode.active=!1,cc.Canvas.instance.node.removeChild(this.freeGameResultNode))},t.instance=null,a([N(cc.Node)],t.prototype,"roller",void 0),a([N(cc.Node)],t.prototype,"rollMarsk",void 0),a([N(cc.Node)],t.prototype,"rollPushMarsk",void 0),a([N(cc.Node)],t.prototype,"ordinaryGameNode",void 0),a([N(cc.Node)],t.prototype,"freeGameNode",void 0),a([N(cc.Node)],t.prototype,"clickMarsk",void 0),a([N(cc.Node)],t.prototype,"topAniMarsk",void 0),a([N(cc.Node)],t.prototype,"fiveStarNode",void 0),a([N(cc.Node)],t.prototype,"trackNode",void 0),a([N([cc.Node])],t.prototype,"resultNode",void 0),a([N([cc.Node])],t.prototype,"startNode",void 0),a([N([cc.Node])],t.prototype,"resultCloneNode",void 0),a([N([sp.SkeletonData])],t.prototype,"resultSpine",void 0),a([N([cc.Node])],t.prototype,"lightNode",void 0),a([N(cc.Node)],t.prototype,"freeNodeClone",void 0),a([N(cc.Node)],t.prototype,"targetNode",void 0),a([N(cc.Node)],t.prototype,"bonusGameNode",void 0),a([N(cc.Node)],t.prototype,"reel_bg_b",void 0),a([N(cc.Prefab)],t.prototype,"bigWinAniNodePrefab",void 0),a([N({type:cc.Prefab,tooltip:"\u5c0f\u6e38\u620f\u8fc7\u573a\u52a8\u753b"})],t.prototype,"bounsGamePrefab",void 0),a([N({type:cc.Prefab,tooltip:"\u514d\u8d39\u6e38\u620f\u7ed3\u7b97\u9884\u5236"})],t.prototype,"freeGameResultPrefab",void 0),n=a([y],t)}(slot.AbstractMainView);n.default=E,cc._RF.pop()},{"../GameEventName111002001":"GameEventName111002001","../bonusGame/BonusGame111002001":"BonusGame111002001","../freeGameResult/FreeGameResult":"FreeGameResult","../item/TrainAniCtrl":"TrainAniCtrl","../main/CommonNumAtlas111002001":"CommonNumAtlas111002001","../main/Main111002001":"Main111002001","../tool/Tool":"Tool","./scrollerSkins/JTChildManager111002001":"JTChildManager111002001","./scrollerSkins/JTLayerManager111002001":"JTLayerManager111002001","./scrollerSkins/JTLogicFactroy111002001":"JTLogicFactroy111002001"}],GameRoller111002001:[function(e,t,n){"use strict";cc._RF.push(t,"abb6bi47QpMaoarOAE3uHhF","GameRoller111002001");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111002001"),s=e("../main/CommonNumAtlas111002001"),c=e("../tool/Tool"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeLayoutWin=null,t.p_nodeOwrWin=null,t.p_nodeCountWin=null,t.p_nodeWinNum=null,t.horseBoard=null,t.coteNode=null,t.freeAndNormalNode=[],t.m_scoreLevel=0,t.m_arrMultiple=[],t.m_isChufaFree=!1,t.m_roleAniState=0,t.m_cannonIndex=0,t.owrNumber=0,t._winMoney=0,t.data=[],t.data2=[],t}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this.winAniEnd,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_PLAY_WIN_NUM_BEGIN,this._updateWinNum,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_PLAY_SCORE_ANI,this._playRewardAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.NORMAL_RECONNECTION_DATA,this.reconnetion,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.FREE_RECONNECTION_DATA,this.freeReconnetion,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_PLAY,this.rollPlay,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.BIG_WIN_ANI_END_CALL_BACK,this.coteBoardCtrl,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this)},t.prototype.freeReconnetion=function(e,t){this.bannerAndCoteCtrl(!1),this.p_nodeOwrWin.active=!1,this.p_nodeWinNum.active=!0,this.p_nodeCountWin.active=!0,this.p_nodeWinNum.getComponent(s.default).string=slot.SlotUtils.formatNumber(Math.floor(t))},t.prototype.reconnetion=function(e,t){this.bannerAndCoteCtrl(!1),this.p_nodeOwrWin.active=!0,this.p_nodeWinNum.active=!0,this.p_nodeCountWin.active=!1,this.p_nodeWinNum.getComponent(s.default).string=slot.SlotUtils.formatNumber(Math.floor(t))},t.prototype.winAniEnd=function(){if(c.default.serverSpinResult.spinResult){var e=Number(c.default.serverSpinResult.spinResult.spinCoin);this.bannerAndCoteCtrl(!1),this.p_nodeOwrWin.active=!1,this.p_nodeWinNum.active=!0,this.p_nodeCountWin.active=!0,slot.SoundMger.instance.playEffect(r.SOUND_NAME.Textbox_01),this.p_nodeWinNum.getComponent(s.default).string=slot.SlotUtils.formatNumber(Math.floor(e))}},t.prototype.rollPlay=function(){this.bannerAndCoteCtrl(!0)},t.prototype.coteBoardCtrl=function(e,t,n){void 0===n&&(n=null)},t.prototype._playRoleAni=function(){},t.prototype.event_stop_slot_machine_immediately=function(){Number(slot.SpinManager.instance.rollingResult.spinResult.spinCoin)},t.prototype._playRewardAni=function(){},t.prototype._updateWinNum=function(e,t,n,o,i){if(void 0===n&&(n=null),void 0===o&&(o=null),void 0===i&&(i=null),null!=t){var a;if(this.owrNumber=t,a=t/100/Number(slot.SlotUtils.formatNumber(slot.SpinManager.instance.betCost)),this.bannerAndCoteCtrl(!1),this.coteNode.getChildByName("light").getComponent(sp.Skeleton).setAnimation(0,"light_spark",!1),a<20){if(this.p_nodeOwrWin.active=!0,this.p_nodeWinNum.active=!0,this.p_nodeCountWin.active=!1,this.p_nodeWinNum.getComponent(s.default).string=slot.SlotUtils.formatNumber(Math.floor(t)),2==i);else if(a>=2.5){var l=slot.MathUtil.getRandomRange(1,2,!0);slot.SoundMger.instance.playEffect("Textbox_Role_02"+l,!1),this.winMoney=0;var p=t;slot.SoundMger.instance.playEffect(r.SOUND_NAME.Textbox_Coin),game.EventManager.getInstance().raiseEvent(r.mouseEvent.WIN_SCOR_EVENT),c.default.gameState||game.EventManager.getInstance().raiseEvent(r.mouseEvent.PLAY_PLAYER_ANI,"clap"),cc.tween(this).to(.7,{winMoney:p}).call(function(){slot.SoundMger.instance.playEffect(r.SOUND_NAME.Textbox_02),slot.SoundMger.instance.stopEffect(r.SOUND_NAME.Textbox_Coin)}).start()}else l=slot.MathUtil.getRandomRange(1,3,!0),slot.SoundMger.instance.playEffect("Textbox_Role_01"+l,!1),c.default.gameState||game.EventManager.getInstance().raiseEvent(r.mouseEvent.PLAY_PLAYER_ANI,"giveUp"),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Textbox_01),this.p_nodeWinNum.getComponent(s.default).string=slot.SlotUtils.formatNumber(Math.floor(t));c.default.gameState&&game.EventManager.getInstance().raiseEvent(r.mouseEvent.PLAY_PLAYER_ANI,"bigGiveUp")}else this.p_nodeOwrWin.active=!1,this.p_nodeWinNum.active=!0,this.p_nodeCountWin.active=!0,this.p_nodeWinNum.getComponent(s.default).string=slot.SlotUtils.formatNumber(Math.floor(t));n&&(this.p_nodeOwrWin.active=!1,this.p_nodeWinNum.active=!0,this.p_nodeCountWin.active=!0,this.p_nodeWinNum.getComponent(s.default).string=slot.SlotUtils.formatNumber(Math.floor(n)))}},Object.defineProperty(t.prototype,"winMoney",{get:function(){return this._winMoney},set:function(e){this._winMoney=Number(e),this.p_nodeWinNum.getComponent(s.default).string=slot.SlotUtils.formatNumber(e)},enumerable:!1,configurable:!0}),t.prototype.bannerAndCoteCtrl=function(e){this.horseBoard.active=e,this.coteNode.active=!e,e||this.setNodeScale()},t.prototype._playCountWinNum=function(e,t){this.p_nodeOwrWin.active=!1,this.p_nodeWinNum.active=!0,this.p_nodeCountWin.active=!0,this.p_nodeWinNum.getComponent(s.default).string=slot.SlotUtils.formatNumber(e),cc.tween(this.p_nodeWinNum).delay(1).call(function(){t&&t()}).start()},t.prototype._onFreeGameStart=function(){this.m_isChufaFree=!0},t.prototype._onFreeGameOver=function(){this.m_isChufaFree=!1},t.prototype.start=function(){this.data=[this.p_nodeCountWin.width,this.p_nodeCountWin.height],this.data2=[this.p_nodeOwrWin.width,this.p_nodeOwrWin.height]},t.prototype.setNodeScale=function(){var e,t=0;t=this.data[0]>300?.55:.75,e=this.data2[0]>300?.55:.75,"de"!=slot.GData.curLanguage&&"nl"!=slot.GData.curLanguage&&"th"!=slot.GData.curLanguage&&"id"!=slot.GData.curLanguage&&"da"!=slot.GData.curLanguage&&"ko"!=slot.GData.curLanguage&&"ru"!=slot.GData.curLanguage&&"ja"!=slot.GData.curLanguage&&"es"!=slot.GData.curLanguage&&"fi"!=slot.GData.curLanguage&&"fr"!=slot.GData.curLanguage&&"ro"!=slot.GData.curLanguage||(t=.8),this.p_nodeCountWin.width=this.data[0]*t,this.p_nodeCountWin.height=this.data[1]*t,this.p_nodeOwrWin.width=this.data2[0]*e,this.p_nodeOwrWin.height=this.data2[1]*e},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_PLAY_WIN_NUM_BEGIN,this._updateWinNum,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_PLAY_SCORE_ANI,this._playRewardAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.FREE_RECONNECTION_DATA,this.freeReconnetion,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_PLAY,this.rollPlay,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.BIG_WIN_ANI_END_CALL_BACK,this.coteBoardCtrl,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this)},a([u(cc.Node)],t.prototype,"p_nodeLayoutWin",void 0),a([u(cc.Node)],t.prototype,"p_nodeOwrWin",void 0),a([u(cc.Node)],t.prototype,"p_nodeCountWin",void 0),a([u(cc.Node)],t.prototype,"p_nodeWinNum",void 0),a([u(cc.Node)],t.prototype,"horseBoard",void 0),a([u(cc.Node)],t.prototype,"coteNode",void 0),a([u([cc.Node])],t.prototype,"freeAndNormalNode",void 0),a([p],t)}(slot.BaseView);n.default=d,cc._RF.pop()},{"../GameEventName111002001":"GameEventName111002001","../main/CommonNumAtlas111002001":"CommonNumAtlas111002001","../tool/Tool":"Tool"}],InfoBarCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"7c69fm+YCxBlZ620daU9gL9","InfoBarCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111002001"),s=e("../tool/Tool"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.horseNode=null,t.scoreNode=null,t.jumpNode=null,t.marskNode=null,t.normalSpriteFrame=null,t.bannerNode=null,t.winNode=null,t.winMarskNode=null,t.lightNode=null,t.jumpStartPos=cc.v2(0,0),t.jumpZindex=null,t.winJumpZindex=null,t}return i(t,e),t.prototype.onLoad=function(){for(var e=0;e<this.node.children.length;e++)this.node.children[e].zIndex=e;window.infoBarCtrl=this},t.prototype.start=function(){this.jumpZindex=this.marskNode.zIndex,this.winJumpZindex=this.winMarskNode.zIndex,this.jumpStartPos=this.jumpNode.getPosition(),this.initJumpNodePos(),game.EventManager.getInstance().addEventListener(r.mouseEvent.TRAIN_BEGAIN,this.jumpAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_PLAY_INFO,this.initJumpNodePos,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.SPEIN_ROLLING_RESP,this.initWinAniNode,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.WIN_SCOR_EVENT,this.winJumpAni,this)},t.prototype.initJumpNodePos=function(){this.marskNode.zIndex=this.jumpZindex,this.horseNode.spriteFrame=this.normalSpriteFrame,this.scoreNode.spriteFrame=this.normalSpriteFrame,this.bannerNode.setPosition(cc.v2(0,0)),this.winNode.setPosition(cc.v2(0,0)),this.lightNode.setPosition(cc.v2(0,0)),this.jumpAniBack()},t.prototype.initWinAniNode=function(){this.winMarskNode.zIndex=this.winJumpZindex,this.winJumpAniBack(),1==s.default.serverSpinResult.state?(this.bannerNode.setPosition(cc.v2(0,0)),this.winNode.setPosition(cc.v2(0,0)),this.horseNode.spriteFrame=this.normalSpriteFrame,this.scoreNode.spriteFrame=this.normalSpriteFrame):(this.jumpNode.opacity=255,this.jumpNode.stopAllActions(),this.jumpNode.setPosition(cc.v2(this.jumpStartPos.x,-53)),this.horseNode.spriteFrame=null,this.scoreNode.spriteFrame=null,this.bannerNode.setPosition(cc.v2(0,45)),this.winNode.setPosition(cc.v2(0,45)),this.lightNode.setPosition(cc.v2(0,45)),this.marskNode.zIndex=-3)},t.prototype.jumpAni=function(){this.initJumpNodePos(),this.jumpNode.opacity=255,this.jumpNode.stopAllActions();var e=cc.moveTo(.5,cc.v2(this.jumpStartPos.x,-30)),t=cc.callFunc(function(){this.horseNode.spriteFrame=null,this.scoreNode.spriteFrame=null,this.bannerNode.setPosition(cc.v2(0,45)),this.winNode.setPosition(cc.v2(0,45)),this.lightNode.setPosition(cc.v2(0,45))}.bind(this)),n=cc.moveTo(.2,cc.v2(this.jumpStartPos.x,-53)),o=cc.callFunc(function(){this.marskNode.zIndex=-3}.bind(this));this.jumpNode.runAction(cc.sequence(e,t,n,o))},t.prototype.jumpAniBack=function(){this.jumpNode.stopAllActions();var e=cc.moveTo(.5,cc.v2(this.jumpStartPos.x,this.jumpStartPos.y)),t=cc.callFunc(function(){this.jumpNode.opacity=0}.bind(this));this.jumpNode.runAction(cc.sequence(e,t))},t.prototype.winJumpAniBack=function(){var e=this.winMarskNode.getChildByName("jumpNode");e.stopAllActions();var t=cc.moveTo(.2,cc.v2(12,-268)),n=cc.callFunc(function(){s.default.gameState&&this.winNode.setPosition(cc.v2(0,45)),this.winMarskNode.opacity=0}.bind(this));e.runAction(cc.sequence(t,n))},t.prototype.winJumpAni=function(){var e=this.winMarskNode.getChildByName("jumpNode");this.winMarskNode.opacity=255,e.stopAllActions();var t=cc.moveTo(.5,cc.v2(e.x,-110)),n=cc.callFunc(function(){this.winNode.setPosition(cc.v2(0,0)),this.winMarskNode.zIndex=-2,this.horseNode.spriteFrame=null,this.scoreNode.spriteFrame=null}.bind(this)),o=cc.moveTo(.1,cc.v2(e.x,-138)),i=cc.callFunc(function(){for(var e=1;e<2;e++)this.winMarskNode.getChildByName("partlice"+e).getComponent(sp.Skeleton).setAnimation(0,"partlice",!1)}.bind(this));e.runAction(cc.sequence(t,n,o,i))},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.TRAIN_BEGAIN,this.jumpAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_PLAY_INFO,this.initJumpNodePos,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_PLAY,this.initWinAniNode,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.WIN_SCOR_EVENT,this.winJumpAni,this)},a([p(cc.Sprite)],t.prototype,"horseNode",void 0),a([p(cc.Sprite)],t.prototype,"scoreNode",void 0),a([p(cc.Node)],t.prototype,"jumpNode",void 0),a([p(cc.Node)],t.prototype,"marskNode",void 0),a([p(cc.SpriteFrame)],t.prototype,"normalSpriteFrame",void 0),a([p(cc.Node)],t.prototype,"bannerNode",void 0),a([p(cc.Node)],t.prototype,"winNode",void 0),a([p(cc.Node)],t.prototype,"winMarskNode",void 0),a([p(cc.Node)],t.prototype,"lightNode",void 0),a([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../GameEventName111002001":"GameEventName111002001","../tool/Tool":"Tool"}],JTChildManager111002001:[function(e,t,n){"use strict";cc._RF.push(t,"5719b+lJVtDfYSZeMtE0kix","JTChildManager111002001");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../SpinSlotViewExtend111002001"),r=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTChildFactory.SCROLLER_TYPE,slot.JTScroller),this.registerClass(slot.JTChildFactory.ITEMRENDER_TYPE,a.default),this.registerClass(slot.JTChildFactory.GIRD_TYPE,slot.JTSkinnableGridRender),this.registerClass(slot.JTChildFactory.SCATTER_TYPE,slot.JTScatterGridRender),this.registerClass(slot.JTChildFactory.LINE_TYPE,slot.JTSkinnableRuntimeLineAnimationRender),this},t.prototype.changedLine=function(t,n){e.prototype.changedLine.call(this,t,n)},t}(slot.JTChildFactory);n.default=r,cc._RF.pop()},{"../SpinSlotViewExtend111002001":"SpinSlotViewExtend111002001"}],JTLayerManager111002001:[function(e,t,n){"use strict";cc._RF.push(t,"aa69cmSY1FEmpzsFRlItGKh","JTLayerManager111002001");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.initialize=function(e){this.addChildNode(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,e);var n=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,e),o=this.addChildNode(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,e);this.addChildNode(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,e);var i=this.addChildNode(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,e);this.addChildNode(slot.JTLayerFactory.SCROLLER_CONTAINER,i);var a=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,e),r=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,e),s=this.addChildNode(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,e),c=(this.addChildNode(t.FRAME_IMAGE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,e)),l=this.addChildNode(slot.JTLayerFactory.LINE_CONTAINER,e.parent);this.addChildNode(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,e._parent._parent).zIndex=100,l.zIndex=101,i.launch(e),i.height=490,i.width=760,s.setup(e.config.getWidth(),e.config.getHeight(),100),o.setup(e.config.getWidth(),e.config.getHeight(),100),n.setupMask(e.config.getWidth(),e.config.getHeight()),a.setupMask(e.config.getWidth(),e.config.getHeight()),r.setupMask(e.config.getWidth(),e.config.getHeight()),c.setupMask(e.config.getWidth(),e.config.getHeight())},t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.LINE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.GIRD_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,slot.JTScrollerGroupMask),this.registerClass(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCATTER_GRID_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,slot.JTGComponent),this.registerClass(t.FRAME_IMAGE_CONTAINER,slot.JTGComponent),this},t}(slot.JTLayerFactory);n.default=a,cc._RF.pop()},{}],JTLogicFactroy111002001:[function(e,t,n){"use strict";cc._RF.push(t,"045e8hMhx1Mv6JCUAsS9oLb","JTLogicFactroy111002001");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./JTTest111002001"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.adjustFlowOptions=function(){this.childOption(r.default,slot.JTTaskPriority.JTCONVERT_PLAYLINES-1)},a([c],t)}(slot.JTLogicFactroy));n.default=l,cc._RF.pop()},{"./JTTest111002001":"JTTest111002001"}],JTTest111002001:[function(e,t,n){"use strict";cc._RF.push(t,"fc79arM6IJHrZhh+K3BgNv1","JTTest111002001");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../GameEventName111002001"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.addEventListenner=function(){},t.prototype.runningTask=function(){this.caculate(),this.nextStep()},t.prototype.caculate=function(){this.addStepTask(r.mouseEvent.ROLL_END_STEP_TASK)},a([c],t)}(slot.JTPerformanceTask));n.default=l,cc._RF.pop()},{"../../GameEventName111002001":"GameEventName111002001"}],LanguageInfo111002001:[function(e,t,n){"use strict";cc._RF.push(t,"a7534kriytEJZ/5P6CpM60F","LanguageInfo111002001");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},a([s],t)}(slot.LanguageInfoBase));n.default=c,cc._RF.pop()},{}],LanguageInfoTest:[function(e,t,n){"use strict";cc._RF.push(t,"6b3c9HNNWhAPZm6dSW28G1z","LanguageInfoTest");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s],t)}(slot.LanguageInfoBase));n.default=c,cc._RF.pop()},{}],Main111002001:[function(e,t,n){"use strict";cc._RF.push(t,"57d00zdnbpIl73C/PZZzTrK","Main111002001");var o,i,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.UICF=n.UIID=void 0;var s,c=e("../roller/WinAnimation111002001"),l=cc._decorator,p=l.ccclass,u=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>"),game.BaseUIConf.getInstance().mergeUIConf(n.UICF);var t=game.BaseUIConf.getInstance().getUICF();game.UIManager.getInstance().initUIConf(t)},t.prototype.getWinAniManagerClass=function(){return c.default},r([p],t)}(slot.MainView));n.default=u,function(e){e[e.BONUS_GAME_POPUP=210101]="BONUS_GAME_POPUP",e[e.FREE_GAME_RESULT=210102]="FREE_GAME_RESULT"}(s=n.UIID||(n.UIID={})),n.UICF=((i={})[s.BONUS_GAME_POPUP]={bundleName:"game_111002001",path:"prefabs/bonusGame/bonusGame",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i[s.FREE_GAME_RESULT]={bundleName:"game_111002001",path:"prefabs/freeGameResult/freeGameResult",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i),cc._RF.pop()},{"../roller/WinAnimation111002001":"WinAnimation111002001"}],MultiPSRandomRefresh:[function(e,t,n){"use strict";cc._RF.push(t,"a8b25AiPn5Bzp1H+WUChUNK","MultiPSRandomRefresh");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=r.menu,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=null,t.aniFps=15,t.psNodeNum=5,t.emissionRate=10,t.psIndexArray=[],t.psArray=[],t.count=0,t.spriteArray=[],t}return i(t,e),t.prototype.onLoad=function(){if(this.atlas){this.psArray=this.node.getComponentsInChildren(cc.ParticleSystem),this.spriteArray=this.atlas.getSpriteFrames(),this.count=this.spriteArray.length;var e=Math.round(Math.random()*this.count);for(this.psIndexArray.push(e);this.psArray.length<this.psNodeNum;){var t=cc.instantiate(this.psArray[0].node);t.parent=this.psArray[0].node.parent;var n=Math.round(Math.random()*this.count);this.psIndexArray.push(n),this.psArray.push(t.getComponent(cc.ParticleSystem))}}},t.prototype.onResetSystem=function(){this.psArray.forEach(function(e){e.resetSystem()})},t.prototype.onStopSystem=function(){this.psArray.forEach(function(e){e.stopSystem()})},t.prototype.onEnable=function(){this.schedule(this.refreshSprite,1/this.aniFps,cc.macro.REPEAT_FOREVER)},t.prototype.onDisable=function(){this.unschedule(this.refreshSprite)},t.prototype.refreshSprite=function(){for(var e=0;e<this.psArray.length;e++){var t=this.psArray[e];this.psIndexArray[e]>=this.count&&(this.psIndexArray[e]=0),t.spriteFrame=this.spriteArray[this.psIndexArray[e]],t.emissionRate=this.emissionRate,t.autoRemoveOnFinish=!1,this.psIndexArray[e]++}},a([c({type:cc.SpriteAtlas,tooltip:"\u56fe\u96c6\u8d44\u6e90"})],t.prototype,"atlas",void 0),a([c({type:cc.Integer,tooltip:"\u6bcf\u79d2\u66ff\u6362\u7c92\u5b50\u8d34\u56fe\u591a\u5c11\u6b21"})],t.prototype,"aniFps",void 0),a([c({tooltip:"ParticleSystem\u8282\u70b9\u603b\u6570\u91cf"})],t.prototype,"psNodeNum",void 0),a([c({tooltip:"\u5355\u7c92\u5b50\u8282\u70b9\u6bcf\u79d2\u53d1\u5c04\u7c92\u5b50\u6570\u76ee"})],t.prototype,"emissionRate",void 0),a([s,l("game/\u7c92\u5b50\u64ad\u653e\u56fe\u96c6\u52a8\u753b")],t)}(cc.Component);n.default=p,cc._RF.pop()},{}],NumAtlasLabel111002001:[function(e,t,n){"use strict";cc._RF.push(t,"0452atpXL1HG41C7ZUyJq7w","NumAtlasLabel111002001");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s],t)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],ParticleSpriteFramesRefresh:[function(e,t,n){"use strict";cc._RF.push(t,"6419eyxf2tGuaDKiPegRioS","ParticleSpriteFramesRefresh");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=null,t.aniFps=15,t.ps=null,t.index=0,t.count=0,t.spriteArray=[],t}return i(t,e),t.prototype.onLoad=function(){this.ps||(this.ps=this.node.getComponent(cc.ParticleSystem)),this.spriteArray=this.atlas.getSpriteFrames(),this.count=this.spriteArray.length,this.schedule(this.refreshSprite,1/this.aniFps,cc.macro.REPEAT_FOREVER)},t.prototype.refreshSprite=function(){this.index>=this.count&&(this.index=0),this.ps.spriteFrame=this.spriteArray[this.index],this.index++},a([c({type:cc.SpriteAtlas,tooltip:"\u56fe\u96c6\u8d44\u6e90"})],t.prototype,"atlas",void 0),a([c({type:cc.Integer,tooltip:"\u6bcf\u79d2\u66ff\u6362\u7c92\u5b50\u8d34\u56fe\u591a\u5c11\u6b21"})],t.prototype,"aniFps",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],PlayerAniCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"67f3cktFpZGorJ06oDZN+4B","PlayerAniCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111002001"),s=e("../tool/Tool"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handNode=null,t.spineNode=null,t.playerNode=null,t.playAniName=["bigGiveUp","clap","giveUp","shakeHand"],t.m_isFreeOverAni=!1,t}return i(t,e),t.prototype.start=function(){var e=this;game.EventManager.getInstance().addEventListener(r.mouseEvent.PLAY_PLAYER_ANI,this.playerAniCtrl,this),this.playerNode.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,function(t,n){s.default.gameState&&"shakeHands"!=n.name&&e.playerNode.getComponent(cc.Animation).play("shakeHand"),s.default.gameState||(e.playerNode.opacity=0,e.spineNode.opacity=255,e.handNode.opacity=255,e.spineNode.getComponent(sp.Skeleton).setAnimation(0,"idle_00",!0),e.handNode.getComponent(sp.Skeleton).setAnimation(0,"idle_00",!0))})},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.PLAY_PLAYER_ANI,this.playerAniCtrl,this)},t.prototype.playerAniCtrl=function(e,t){for(var n=!1,o=null,i=0;i<this.playAniName.length;i++)t==this.playAniName[i]&&(n=!0);if("total_win_exit"==t&&(this.m_isFreeOverAni=!1),!this.m_isFreeOverAni)if(this.handNode.opacity=0,this.spineNode.opacity=0,this.playerNode.opacity=0,n)this.playerNode.opacity=255,(o=this.playerNode.getComponent(cc.Animation)).play(t);else{var a=this.handNode.getComponent(sp.Skeleton);o=this.spineNode.getComponent(sp.Skeleton),this.spineNode.opacity=255,"total_win_idle"==t?(this.m_isFreeOverAni=!0,this.handNode.opacity=0,o.setCompleteListener(null),o.setAnimation(0,t,!0)):(this.handNode.opacity=255,o.setAnimation(0,t,!1),o.setCompleteListener(function(){o.setAnimation(0,"idle_00",!0)}),a.setAnimation(0,t,!1),a.setCompleteListener(function(){a.setAnimation(0,"idle_00",!0)}))}},a([p(cc.Node)],t.prototype,"handNode",void 0),a([p(cc.Node)],t.prototype,"spineNode",void 0),a([p(cc.Node)],t.prototype,"playerNode",void 0),a([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../GameEventName111002001":"GameEventName111002001","../tool/Tool":"Tool"}],SlotFrameAniViewNodeCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"14682g8rGBD5b3FbWfcqjak","SlotFrameAniViewNodeCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111002001"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SkeletonData=[],t.spriteDatas=[],t.Skeleton=null,t.Sprite=null,t.aniSkeleton=null,t.boomNode=null,t.bgNode=null,t.data=null,t.isInRollSpeed=!1,t.pos=0,t.zindex=null,t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_PLAY,this.initAllNodeState,this),this.boomNode.runAction(cc.repeatForever(cc.rotateBy(2,360)))},t.prototype.init=function(e){this.pos=e,this.zindex=this.node.zIndex},t.prototype.initAllNodeState=function(){this.data=null,this.closeWinAni(),this.fadOutAni(this.bgNode),this.fadOutAni(this.boomNode),this.fadOutAni(this.Skeleton.node),this.fadOutAni(this.Sprite.node),this.fadOutAni(this.aniSkeleton.node)},t.prototype.initNodeState=function(){},t.prototype.changeSpine=function(){},t.prototype.onPlayAnimation=function(){},t.prototype.closeWinAni=function(){},t.prototype.spritAni=function(e){var t=this;e>4?(this.Skeleton.skeletonData=this.SkeletonData[e-5],this.Sprite.node.opacity=0,this.Skeleton.node.opacity=255):(this.Sprite.spriteFrame=this.spriteDatas[e-1],this.Sprite.node.opacity=255,this.Skeleton.node.opacity=0),this.bgNode.opacity=255,this.boomNode.opacity=255,this.aniSkeleton.node.opacity=255,this.aniSkeleton.setAnimation(0,"win_fadein",!1),this.aniSkeleton.addAnimation(0,"win_loop",!0),this.scheduleOnce(function(){t.initAllNodeState()},1.5)},t.prototype.raiseZindex=function(){this.node.zIndex=99},t.prototype.resumeZindex=function(){this.node.zIndex=this.zindex},t.prototype.fadinAni=function(e){var t=cc.fadeIn(.5);e.runAction(t)},t.prototype.fadOutAni=function(e,t){void 0===t&&(t=null);var n=cc.fadeOut(.5),o=cc.callFunc(function(){"function"==typeof t&&t()}.bind(this));e.runAction(cc.sequence(n,o))},t.prototype.playSpineAnimation=function(e,t,n){void 0===n&&(n=null),this.Skeleton.setAnimation(0,e,t),this.Skeleton.setCompleteListener(function(){"function"==typeof n&&n()})},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_PLAY,this.initAllNodeState,this)},a([l([sp.SkeletonData])],t.prototype,"SkeletonData",void 0),a([l([cc.SpriteFrame])],t.prototype,"spriteDatas",void 0),a([l(sp.Skeleton)],t.prototype,"Skeleton",void 0),a([l(cc.Sprite)],t.prototype,"Sprite",void 0),a([l(sp.Skeleton)],t.prototype,"aniSkeleton",void 0),a([l(cc.Node)],t.prototype,"boomNode",void 0),a([l(cc.Node)],t.prototype,"bgNode",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../GameEventName111002001":"GameEventName111002001"}],SpinSlotViewExtend111002001:[function(e,t,n){"use strict";cc._RF.push(t,"32be0vc0edONqUu4Uh58X3x","SpinSlotViewExtend111002001");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./SlotFrameAniViewNodeCtrl"),r=function(e){function t(){var t=e.call(this)||this;return t._slotFrameAniView=null,t._slotFrameAniViewSign="___SLOT_FRAME_ANI_VIEW_SIGN",t.ID=null,t.lightFrame=null,t.isBlur=!0,t.isFade=!0,t.isFadeMask=!1,t.skinLoader.skeletonNode.scale=1,t}return i(t,e),t.prototype.onPlayAnimation=function(){var e=this,t=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index);if(t&&(t.getComponent(a.default).initNodeState(this.data),t.getComponent(a.default).onPlayAnimation()),this._slotFrameAniView||(this._slotFrameAniView=this._getSlotFrameAniView()),this._slotFrameAniView.setScale(1),this._slotFrameAniView.active=!0,this.addEffectNode(this._slotFrameAniView,!1),this.data>=5&&this.data<=10){this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win");var n=this.skinLoader.skeletonNode.getComponent(sp.Skeleton);n.setCompleteListener(function(){e.data>=10&&n.setAnimation(0,"idle",!0)})}this.data>=11&&this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win"),this.data<=4&&this.dataAni()},t.prototype.dataAni=function(){this.skinLoader.spriteNode.stopAllActions();var e=cc.scaleTo(.2,.6),t=cc.moveBy(.2,cc.v2(0,5)),n=cc.scaleTo(.2,.6,1.2),o=cc.scaleTo(.2,1.2,1),i=cc.moveBy(.2,cc.v2(0,-5)),a=cc.scaleTo(.2,1),r=cc.spawn(e,t),s=cc.spawn(o,i),c=cc.sequence(r,n,s,a);this.skinLoader.spriteNode.runAction(c)},t.prototype.playTrainAni=function(){this.skinLoader.skeletonNode.getComponent(sp.Skeleton);var e=this;this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"train_inort",!1,function(){e.setAnimation(slot.JTGLoaderAssetType.Skeleton,"train_loop",!0)})},t.prototype.init=function(){this.skinLoader.spriteNode.stopAllActions(),this.skinLoader.spriteNode.scale=1,this.skinLoader.spriteNode.setPosition(cc.v2(0,0));var e=slot.SlotMachineView.instance.node.getChildByName("wildAni"+this.index);e&&(e.opacity=0)},t.prototype.onDataOrStageChange=function(){this.skinLoader.spriteNode.stopAllActions(),this.skinLoader.spriteNode.scale=1,this.skinLoader.spriteNode.setPosition(cc.v2(0,0))},t.prototype.onStopAnimation=function(){var e=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index);e&&e.getComponent(a.default).closeWinAni(),this._recoverSlotFrameAniView()},t.prototype.onPlayRewardsAnimation=function(){},t.prototype.onStopRewardsAnimation=function(){t._rewardsView&&t._rewardsView.removeFromParent()},t.prototype._getRewardsAnimation=function(){},t.prototype.addEffectElement=function(){var e=cc.scaleTo(.5,0),t=cc.callFunc(function(){this.skinLoader.spriteNode.opacity=0,this.skinLoader.spriteNode.scale=1,this.playBombAni()}.bind(this));this.skinLoader.spriteNode.runAction(cc.sequence(e,t))},t.prototype.addDataSpine=function(){var e=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index);e&&e.getComponent(a.default).changeSpine(this.data)},t.prototype.playScatterAndWildAni=function(){},t.prototype.playFightAni=function(){var e=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index);e&&e.getComponent(a.default).changeSpine(this.data)},t.prototype._showFrameAniView=function(e,t,n){var o=this;void 0===n&&(n=null),game.ResLoader.getInstance().loadRes("prefabs/gameItem/_slotFrameAniViewNode",function(i,r){if(!i){var s=cc.instantiate(r);e.node.addChild(s,t+2,"effectNode"+t);var c=e.getPosByIndex(t);s.getComponent(a.default).init(t),c&&(s.y=c.y,s.x=c.x),o.addDataSpine(),9==o.data&&o.playTrainAni(),14==t&&"function"==typeof n&&n()}},"game_"+core.Global.clientGameId),game.ResLoader.getInstance().loadRes("prefabs/gameItem/wildAni",function(n,o){if(!n){var i=cc.instantiate(o);i.opacity=0,e.node.addChild(i,t+2,"wildAni"+t);var a=e.getPosByIndex(t);a&&(i.y=a.y,i.x=a.x)}},"game_"+core.Global.clientGameId)},t.prototype._getSlotFrameAniView=function(){var e=this;if(this._slotFrameAniView)return this._slotFrameAniView;this._slotFrameAniView=new cc.Node;var t=this._slotFrameAniView.addComponent(slot.AnimationExtend),n=new slot.AniParam(slot.ANIMATION_TYPE.SKELETON,"skeleton/slotMachine/infoBarGrow/win",slot.GData.bundleName,"win_fadein");t.init(n);var o=slot.Handler.create(this,function(){e._recoverSlotFrameAniView()});return t.play("win_loop",!0,o),this._slotFrameAniView},t.prototype.playAnimaiton=function(){var e=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index);e&&e.getComponent(a.default).spritAni(this.data)},t.prototype.animationSpineNodeCtrl=function(){},t.prototype.addAnimationBeforeWin=function(){},t.prototype.beforeWinSpineNodeCtrl=function(){},t.prototype.addLightBg=function(){},t.prototype.setLightBgOpacity=function(e){this.lightFrame&&(this.lightFrame.opacity=e)},t.prototype.changeData=function(){},t.prototype._recoverSlotFrameAniView=function(){this._slotFrameAniView&&(this._slotFrameAniView.removeFromParent(),this._slotFrameAniView.active=!1,this._slotFrameAniView=null)},t._rewardsView=null,t}(slot.SpinSlotView);n.default=r,cc._RF.pop()},{"./SlotFrameAniViewNodeCtrl":"SlotFrameAniViewNodeCtrl"}],Tool:[function(e,t,n){"use strict";cc._RF.push(t,"ff1f8UR+3xIJ6t3h7aVgrrn","Tool"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../roller/SlotFrameAniViewNodeCtrl"),i=function(){function e(){}return e.cutRepeatdataHandle=function(e,t,n){var o=!0;return e.forEach(function(e){e==t&&(o=!1)}),n.forEach(function(e){e==t&&(o=!1)}),o},e.otherOneDataHandle=function(e){var t=!0;return e%6==0&&(t=!1),t},e.otherTwoDataHandle=function(e){var t=!0;return(e-1)%6==0&&(t=!1),t},e.drawLineDataHandle=function(e,t){void 0===t&&(t=null);for(var n=(t||this.serverSpinResult.updateList[0].value.handleState.game_10017.data.resultList)[e].spinResult.lineResult,o=[],i=[],a=0;a<n.length;a++)n[a].winPos[0]&&o.push(n[a].winPos);for(a=0;a<o.length;a++){var r=o[a];i.push(this.lineDataPush(r))}return i},e.changeData=function(e,t,n){void 0===n&&(n=null);for(var o=[],i=0;i<e.length;i++){var a=e[i];a==t||a==n||o.push(a)}return o},e.putTwoDataMakeUp=function(e,t){for(var n=[],o=0;o<e.length;o++){var i=e[o];n.push(i)}for(o=0;o<t.length;o++)i=t[o],n.push(i);return n},e.putInTwoDataCheckRelation=function(e,t){for(var n=!1,o=0;o<e.length;o++)this.checkOneDataWithLine(Number(e[o]),t)&&(n=!0);return n},e.checkOneDataWithLine=function(e,t){var n=this,o=!1;return t.forEach(function(t){var i=Number(t);e+7!==i&&e-7!==i?e-1===i&&n.otherTwoDataHandle(e)?o=!0:e+1===i&&n.otherOneDataHandle(e)&&(o=!0):o=!0}),o},e.getAllDataInRoller=function(){for(var e=[],t=0;t<60;t++){var n=slot.SlotMachineView.instance.scroller.getRenderByIndex(t);n&&e.push(n)}return e},e.lineDataPush=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n].low;t.push(this.checkOneDataWithSelfLine(o,e))}return t},e.checkOneDataWithSelfLine=function(e,t){var n=this,o=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],i=[];t.forEach(function(t){var i=Number(t);e+6===i?o[2]=!0:e-6===i?o[1]=!0:e-1===i&&n.otherTwoDataHandle(e)?o[0]=!0:e+1===i&&n.otherOneDataHandle(e)&&(o[3]=!0)}),t.forEach(function(t){var i=Number(t);e-5===i&&!o[1]&&n.otherOneDataHandle(e)&&(o[4]=!0),e-5===i&&!o[3]&&n.otherOneDataHandle(e)&&(o[8]=!0),e+7===i&&!o[2]&&n.otherOneDataHandle(e)&&(o[5]=!0),e+7===i&&!o[3]&&n.otherOneDataHandle(e)&&(o[9]=!0),e-7===i&&!o[1]&&n.otherTwoDataHandle(e)&&(o[6]=!0),e-7===i&&!o[0]&&n.otherTwoDataHandle(e)&&(o[10]=!0),e+5===i&&!o[2]&&n.otherTwoDataHandle(e)&&(o[7]=!0),e+5===i&&!o[0]&&n.otherTwoDataHandle(e)&&(o[11]=!0)});var a=slot.SlotMachineView.instance.scroller.getRenderByIndex(e);return i.push(a),o[4]&&i.push("specialDownLeftCurved2"),o[5]&&i.push("specialDownRightCurved2"),o[8]&&i.push("specialDownLeftCurved1"),o[9]&&i.push("specialDownRightCurved1"),o[6]&&(o[4]||(o[3]?i.push("shortLeft2"):i.push("downLeftCurved"))),o[7]&&(o[5]||(o[3]?i.push("shortRight2"):i.push("downRightCurved"))),o[10]&&(o[11]||(o[2]?i.push("shorttop2"):i.push("topRightCurved"))),o[11]&&(o[10]||(o[2]?i.push("shorttop1"):i.push("topLeftCurved"))),o[0]||(o[10]||(o[1]?i.push("shorttop1"):i.push("topLeftCurved")),o[11]||(o[2]?i.push("shorttop2"):i.push("topRightCurved"))),o[1]||(o[6]||o[0]&&i.push("shortLeft1"),o[4]||(o[3]?i.push("shortLeft2"):i.push("downLeftCurved"))),o[2]||(o[5]||(o[3]?i.push("shortRight2"):i.push("downRightCurved")),o[7]||(o[0]?i.push("shortRight1"):i.push("topRightCurved"))),o[3]||(o[8]||(o[1]?i.push("shortDown1"):i.push("downLeftCurved")),o[9]||(o[2]?i.push("shortDown2"):i.push("downRightCurved"))),i},e.getFreeGameFreeTimePosAndTime=function(e){for(var t=this.serverSpinResult.updateList[0].value.handleState.game_10017.data.resultList[e].spinResult.grid,n=[],o=0;o<t.length;o++){var i=t[o];if(i>=10){var a=slot.SlotMachineView.instance.getPosByIndex(o);10==i&&n.push([a,1]),11==i&&n.push([a,2]),12==i&&n.push([a,3])}}return n},e.bezierAct=function(e,t,n,o,i,a){void 0===a&&(a=null);var r=cc.v2(t.x,t.y),s=[cc.v2(e.x+i,e.y+o),r,cc.v2(t.x,t.y)],c=cc.bezierTo(n,s),l=cc.callFunc(function(){"function"==typeof a&&a()}.bind(this));e.runAction(cc.sequence(c,l))},e.getPosByOtherNode=function(e,t){if(e){var n=e.parent.convertToWorldSpaceAR(e.position);return t.convertToNodeSpaceAR(n)}return cc.v2(0,0)},e.getLineNumberByPos=function(e){e+=1;var t=Math.floor(e/3);return 0==e%3?t-1:t},e.getAcrossNumberByPos=function(e){for(var t=0;t<6;t++)for(var n=0;n<6;n++)if(e==6*n+t)return t},e.getLineDataByResp=function(t){for(var n=e.serverSpinResult.updateList[0].value.handleState.game_10017.data.resultList[t].removePos,o=[],i=0;i<n.length;i++){for(var a=n[i],r=this.getLineNumberByPos(a)+1,s=!0,c=0;c<o.length;c++)r==o[c]&&(s=!1);s&&o.push(r)}return o},e.getFamaleMouseData=function(){var t=[];e.serverSpinResult.updateList&&(t=1==e.serverSpinResult.updateList[0].value.handleState.game_10017.data.resultList.length?e.serverSpinResult.updateList[0].value.handleState.game_10017.data.resultList[e.totalEliminateTime].crushMoveGrid:e.serverSpinResult.updateList[0].value.handleState.game_10017.data.resultList[e.totalEliminateTime].crushFixedGophersGrid);for(var n=[],o=0;o<t.length;o++){var i=t[o];8==i.elem&&n.push({pos:i.pos,index:o})}return n},e.getLastRespData=function(){var t=[];e.serverSpinResult.updateList&&(t=e.serverSpinResult.updateList[0].value.handleState.game_10017.data.resultList);var n=[];return 1==t.length?n=[]:t[0]&&(n=t[t.length-2].crushMoveGrid),n},e.fixedDataDeduplication=function(e){for(var t=[],n=[],o=0;o<e.length;o++){for(var i=e[o],a=!0,r=0;r<this.clearData.length;r++){var s=this.clearData[r];if(i.pos==s.pos){a=!1;break}}a&&t.push(i)}for(o=0;o<t.length;o++)i=t[o],n.push(i);for(o=0;o<this.clearData.length;o++)i=this.clearData[o],n.push(i);return this.clearData=n,t},e.playRollDataBgAni=function(){var e=slot.SlotMachineView.instance.node.parent.parent;this.getAcrossRollData(),e.stopAllActions(),this.setAllLightNode();var t=cc.delayTime(2),n=cc.callFunc(function(){this.setAllLightNode();for(var t=function(t){var i=cc.delayTime(.2*t),a=cc.callFunc(function(){var e=this.acrossNodeArr[t],n=[];t>=1&&(n=this.acrossNodeArr[t-1]),slot.SoundMger.instance.playEffect("Line_Turn",!1);for(var i=function(i){var a=e[i];t>=1&&(n[i].getChildByName("lightBg").active=!1);var r=a.getChildByName("spine").getComponent(sp.Skeleton);a.getComponent(o.default).data<9&&(r.setAnimation(0,"win",!1),r.setCompleteListener(function(){r.setAnimation(0,"win_idle",!0)})),a.getChildByName("lightBg").active=!0},a=0;a<e.length;a++)i(a)}.bind(n));e.runAction(cc.sequence(i,a))},n=this,i=0;i<6;i++)t(i)}.bind(this));e.runAction(cc.repeatForever(cc.sequence(t,n)))},e.setAllLightNode=function(){for(var e=0;e<this.acrossNodeArr.length;e++)for(var t=this.acrossNodeArr[e],n=0;n<t.length;n++){var i=t[n],a=i.getChildByName("spine").getComponent(sp.Skeleton);i.getComponent(o.default).data<9&&a.setToSetupPose(),i.getChildByName("lightBg").active=!1}},e.getAcrossRollData=function(){if(!this.acrossNodeArr[0])for(var e=0;e<6;e++){for(var t=[],n=0;n<6;n++){var o=this.falseRollNode[6*n+e];t.push(o)}this.acrossNodeArr.push(t)}},e.checkThisIsLastRemove=function(){var e=!1,t=this.serverSpinResult.updateList[0].value.handleState.game_10017.data.resultList.length-1;return this.totalEliminateTime==t&&(e=!0),e},e.getNowTime=function(){return(new Date).valueOf()},e.isFutureTime=function(e){return this.getNowTime()<e},e.isPastTime=function(e){return this.getNowTime()>e},e.serverSpinResult=null,e.respData=null,e.totalEliminateTime=0,e.eliminateTime=0,e.clearData=[],e.falseRollNode=[],e.acrossNodeArr=[],e.scatterNumber=0,e.gameState=!1,e.isCanAddRide=!0,e.isCanRoolAni=!1,e.marsk=null,e.resultNode=[],e.allDataPos=[],e.trainData=[],e.p_nodeBg2=null,e.bigWinAniNodePrefab=null,e}();n.default=i,window.tool111002001=i,cc._RF.pop()},{"../roller/SlotFrameAniViewNodeCtrl":"SlotFrameAniViewNodeCtrl"}],TrainAniCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"67572DmvbxHAbBGV6KehhxR","TrainAniCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111002001"),s=e("../main/CommonNumAtlas111002001"),c=e("../roller/SlotFrameAniViewNodeCtrl"),l=e("../tool/Tool"),p=cc._decorator,u=p.ccclass,d=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dataNode=null,t.startNode=null,t.numberNode=null,t.respinBallClone=null,t.radius=0,t.type=null,t.lgId=null,t.bool=!1,t.startPos=cc.v2(0,0),t.ride=0,t.spritStartAniName=["","got_j","got_q","got_k","got_a","got_cane","got_sock","got_choco","got_deer"],t.spritMiddleAniName=["","idle_j","idle_q","idle_k","idle_a","idle_cane","idle_sock","idle_choco","idle_deer"],t.spritEndAniName=["","win_j","win_q","win_k","win_a","win_cane","win_sock","win_choco","win_deer"],t.flare=null,t.numberStartPos=cc.v2(0,0),t}return i(t,e),t.prototype.start=function(){this.flare=this.node.getChildByName("flare"),this.numberStartPos=this.numberNode.getPosition(),l.default.resultNode.push(this.node)},t.prototype.initData=function(){this.ride=0,this.lgId=null,this.type=null,this.bool=!1,this.dataNode.setPosition(this.startPos),this.dataFadout(),this.startNode.opacity=0,this.startNode.y=0},t.prototype.refresh=function(e,t,n,o){if(this.type=e,this.lgId=o,null!=e){"2x"==n?this.ride=2:"4x"==n?this.ride=4:"5x"==n&&(this.ride=5);var i=this.dataNode.getComponent(sp.Skeleton);i.skeletonData=t,i.setAnimation(0,n,!0)}},t.prototype.dataOpacityCtrl=function(){null==this.type?this.dataNode.opacity=0:this.dataNode.opacity=255},t.prototype.playGoldAni=function(){if(0==this.type&&!this.bool){this.bool=!0,slot.SoundMger.instance.playEffect("Prize_Mtp",!1);var e=cc.scaleTo(.1,1,.5),t=cc.moveBy(.2,cc.v2(0,100)),n=cc.scaleTo(.2,1,1.2),o=cc.spawn(t,n),i=cc.callFunc(function(){this.startNode.opacity=255,this.startNode.y=120,this.startNode.getComponent(sp.Skeleton).setAnimation(0,"star_boom",!1)}.bind(this)),a=cc.scaleTo(.1,1),r=cc.callFunc(function(){this.startNode.getComponent(sp.Skeleton).setAnimation(1,"star_light",!1)}.bind(this)),s=cc.fadeOut(.3),c=cc.callFunc(function(){this.playNumberAni()}.bind(this));this.dataNode.runAction(cc.sequence(e,o,i,a,r,s,c))}},t.prototype.playNumberAni=function(){this.startNode.getComponent(sp.Skeleton).setAnimation(0,"star_boom",!1);var e=this.ride*slot.SpinManager.instance.betCost;this.numberNode.setPosition(this.numberStartPos),this.numberNode.opacity=255,this.numberNode.getComponent(s.default).string=slot.SlotUtils.formatNumber(e),this.numberNode.width>=480&&((this.radius=1)?this.numberNode.x+=this.numberNode.width-480:(this.radius=3)&&(this.numberNode.x-=this.numberNode.width-480));var t=cc.scaleTo(.3,1),n=cc.fadeOut(.3),o=cc.callFunc(function(){this.initData(),game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_PLAY_WIN_NUM_BEGIN,e,null,1,2)}.bind(this));this.numberNode.runAction(cc.sequence(t,n,o))},t.prototype.playSpritAni=function(e){var t=this;this.scheduleOnce(function(){var n=e.elem,o=e.replacePosList,i=[-160,0,160];t.flare.opacity=255,1==slot.MathUtil.getRandomRange(1,2,!0)?slot.SoundMger.instance.playEffect("Elf_Long",!1):slot.SoundMger.instance.playEffect("Elf_Short",!1),t.playSpinAniCtrl(t.spritStartAniName[n],function(){t.flare.opacity=0,t.scheduleOnce(function(){for(var e=0;e<o.length;e++){var a=o[e],r=cc.instantiate(t.respinBallClone);t.respinBallClone.parent.addChild(r),r.setPosition(cc.v2(i[t.radius-1],240)),t.ballMoveAct(a,r,e,n)}},.2),t.scheduleOnce(function(){t.initData()},2),t.playSpinAniCtrl(t.spritEndAniName[n],function(){t.playSpinAniCtrl(t.spritMiddleAniName[n])}),t.startNode.getComponent(sp.Skeleton).setAnimation(0,"star_boom",!1)})},.02)},t.prototype.ballMoveAct=function(e,t,n,o){var i=l.default.allDataPos[e-1],a=l.default.getPosByOtherNode(i,t.parent);t.opacity=255;var r=cc.delayTime(.1*n),s=cc.moveTo(.5,a),p=cc.callFunc(function(){i.getComponent(c.default).spritAni(o),t.destroy()}.bind(this));t.runAction(cc.sequence(r,s,p))},t.prototype.playSpinAniCtrl=function(e,t){void 0===t&&(t=null);var n=this.dataNode.getComponent(sp.Skeleton);n.setAnimation(0,e,!1),n.setCompleteListener(function(){"function"==typeof t&&t()})},t.prototype.dataFadout=function(){this.dataNode.runAction(cc.fadeOut(.5))},t.prototype.onDestroy=function(){},a([d(cc.Node)],t.prototype,"dataNode",void 0),a([d(cc.Node)],t.prototype,"startNode",void 0),a([d(cc.Node)],t.prototype,"numberNode",void 0),a([d(cc.Node)],t.prototype,"respinBallClone",void 0),a([d({type:cc.Integer,tooltip:"\u534a\u5f84"})],t.prototype,"radius",void 0),a([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../GameEventName111002001":"GameEventName111002001","../main/CommonNumAtlas111002001":"CommonNumAtlas111002001","../roller/SlotFrameAniViewNodeCtrl":"SlotFrameAniViewNodeCtrl","../tool/Tool":"Tool"}],WinAnimation111002001:[function(e,t,n){"use strict";cc._RF.push(t,"bba8cjpYTxFV5KEKVoQ/9LX","WinAnimation111002001");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../main/MultiPSRandomRefresh"),s=e("../tool/Tool"),c=cc._decorator,l=c.ccclass,p=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aniNode=null,t}return i(t,e),t.prototype.playWinStart=function(){this.addAniNode()},t.prototype.playWinTextFadeIn=function(t,n){if(t.anchorY=0,slot.WinAniType.Middle,n==slot.WinAniType.Great){var o=this.getCustomLayerNode();if(o)for(var i=0,a=o.children;i<a.length;i++)a[i].active=!0}return e.prototype.playWinTextFadeIn.call(this,t,n)},t.prototype.onPlayFinalAnimation=function(){},t.prototype.onCoinIncreaseEnd=function(){},t.prototype.playFadeOut=function(t){e.prototype.playFadeOut.call(this,t)},t.prototype.aniEnd=function(){this.getWinTextNode().anchorY=0,this.aniNode&&this.aniNode.getChildByName("goldNode")&&this.aniNode.getChildByName("goldNode").getComponent(r.default).onStopSystem()},t.prototype.playStateChangeParticle=function(){this.aniNode&&this.aniNode.getChildByName("change")&&this.aniNode.getChildByName("change").getComponent(cc.ParticleSystem).resetSystem()},t.prototype.addAniNode=function(){this.aniNode||(this.aniNode=cc.instantiate(s.default.bigWinAniNodePrefab),this.aniNode.parent=this.getCustomLayerNode(),this.aniNode.position=cc.v3(),this.aniNode.active=!0)},a([l],t)}(slot.WinAniManager));n.default=p,cc._RF.pop()},{"../main/MultiPSRandomRefresh":"MultiPSRandomRefresh","../tool/Tool":"Tool"}]},{},["CircleAni","ParticleSpriteFramesRefresh","Banner111002001","GameEventName111002001","NumAtlasLabel111002001","BonusGame111002001","BonusGameTest","FreeGameResult","GameBg111002001","ElephantNodeCtrl","InfoBarCtrl","PlayerAniCtrl","TrainAniCtrl","CommonNumAtlas111002001","LanguageInfo111002001","LanguageInfoTest","Main111002001","MultiPSRandomRefresh","Adaptive111002001","GameLayer111002001","GameRoller111002001","SlotFrameAniViewNodeCtrl","SpinSlotViewExtend111002001","WinAnimation111002001","Cannon","JTChildManager111002001","JTLayerManager111002001","JTLogicFactroy111002001","JTTest111002001","Tool"]);